<Results>
  <Result>
    <Input>
      <Description>Point Operation with Request Timeout</Description>
      <Setup><![CDATA[
    ItemRequestOptions requestOptions = new ItemRequestOptions();

    Guid exceptionActivityId = Guid.NewGuid();
    string transportExceptionDescription = "transportExceptionDescription" + Guid.NewGuid();
    Container containerWithTransportException = TransportClientHelper.GetContainerWithItemTransportException(
        database.Id,
        container.Id,
        exceptionActivityId,
        transportExceptionDescription);

    //Checking point operation diagnostics on typed operations
    ToDoActivity testItem = ToDoActivity.CreateRandomToDoActivity();

    ITrace trace = null;
    try
    {
        ItemResponse<ToDoActivity> createResponse = await containerWithTransportException.CreateItemAsync<ToDoActivity>(
          item: testItem,
          requestOptions: requestOptions);
        Assert.Fail("Should have thrown a request timeout exception");
    }
    catch (CosmosException ce) when (ce.StatusCode == System.Net.HttpStatusCode.RequestTimeout)
    {
        trace = ((CosmosTraceDiagnostics)ce.Diagnostics).Value;
    }
]]></Setup>
    </Input>
    <Output>
      <Text><![CDATA[.
└── CreateItemAsync(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │   (
    │       [Client Configuration]
    │       Redacted To Not Change The Baselines From Run To Run
    │   )
    ├── ItemSerialize(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    ├── Get PkValue From Stream(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   ├── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   │   └── Waiting for Initialization of client to complete(00000000-0000-0000-0000-000000000000)  Unknown-Component  12:00:00:000  0.00 milliseconds  
    │   └── Read Collection(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           (
    │               [Client Side Request Stats]
    │               Redacted To Not Change The Baselines From Run To Run
    │           )
    ├── Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │   ├── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   └── Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │       │   (
    │       │       [System Info]
    │       │       Redacted To Not Change The Baselines From Run To Run
    │       │   )
    │       └── Microsoft.Azure.Cosmos.Handlers.RetryHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           └── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │               └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │                   └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │                           (
    │                               [Client Side Request Stats]
    │                               Redacted To Not Change The Baselines From Run To Run
    │                               [Point Operation Statistics]
    │                               Redacted To Not Change The Baselines From Run To Run
    │                           )
    └── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
]]></Text>
      <Json><![CDATA[{
  "Summary": {},
  "name": "CreateItemAsync",
  "id": "00000000-0000-0000-0000-000000000000",
  "start time": "12:00:00:000",
  "duration in milliseconds": 0,
  "data": {
    "Client Configuration": "Redacted To Not Change The Baselines From Run To Run"
  },
  "children": [
    {
      "name": "ItemSerialize",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0
    },
    {
      "name": "Get PkValue From Stream",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0,
      "children": [
        {
          "name": "Get Collection Cache",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "children": [
            {
              "name": "Waiting for Initialization of client to complete",
              "id": "00000000-0000-0000-0000-000000000000",
              "start time": "12:00:00:000",
              "duration in milliseconds": 0
            }
          ]
        },
        {
          "name": "Read Collection",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "data": {
            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run"
          }
        }
      ]
    },
    {
      "name": "Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0,
      "children": [
        {
          "name": "Get Collection Cache",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0
        },
        {
          "name": "Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "data": {
            "System Info": "Redacted To Not Change The Baselines From Run To Run"
          },
          "children": [
            {
              "name": "Microsoft.Azure.Cosmos.Handlers.RetryHandler",
              "id": "00000000-0000-0000-0000-000000000000",
              "start time": "12:00:00:000",
              "duration in milliseconds": 0,
              "children": [
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run",
                            "Point Operation Statistics": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "Get Collection Cache",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0
    }
  ]
}]]></Json>
      <OTelActivities><ACTIVITY><OPERATION>Cosmos.CreateItemAsync</OPERATION><ATTRIBUTE-KEY>kind</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>client</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>az.namespace</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Microsoft.DocumentDB</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.system</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>cosmosdb</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.status_code</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>RequestTimeout</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.request_charge</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>0</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.regions_contacted</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>South Central US</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.message</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Response status code does not indicate success: RequestTimeout (408); Substatus: 0; ActivityId: 8b3aad1d-558b-4c29-a7c7-a351f08b9b09; Reason: (Message: Request timed out. More info: https://aka.ms/cosmosdb-tsg-request-timeout
ActivityId: 8b3aad1d-558b-4c29-a7c7-a351f08b9b09, Request URI: /apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, SDK: Windows/10.0.22000 cosmos-netstandard-sdk/3.28.2);; Diagnostics:{"Summary":{"DirectCalls":{"(408, 0)":1},"RegionsContacted":1,"GatewayCalls":{"(200, 0)":3,"(304, 0)":1}},"name":"CreateItemAsync","id":"963c44cf-0e7c-4e8f-92f6-299bd88399f8","start time":"05:56:25:017","duration in milliseconds":52.5456,"data":{"Client Configuration":{"Client Created Time Utc":"2022-06-30T17:56:25.0170430Z","MachineId":"hashedMachineName:389da6c8-658b-e19e-372d-16c45bfaf481","NumberOfClientsCreated":5,"NumberOfActiveClients":5,"ConnectionMode":"Gateway","User Agent":"cosmos-netstandard-sdk/3.28.0|5|X64|Microsoft Windows 10.0.22000|.NET 6.0.6|N|","ConnectionConfig":{"gw":"(cps:50, urto:10, p:False, httpf: False)","rntbd":"(cto: 5, icto: -1, mrpc: 30, mcpe: 65535, erd: True, pr: ReuseUnicastPort)","other":"(ed:False, be:False)"},"ConsistencyConfig":"(consistency: NotSet, prgns:[], apprgn: )","ProcessorCount":0}},"children":[{"name":"ItemSerialize","id":"68690bbd-34d7-4a98-ac7e-dd2699273328","start time":"05:56:25:017","duration in milliseconds":0.0679},{"name":"Get PkValue From Stream","id":"17fd5f34-73cd-4a71-87ab-837d26b73525","start time":"05:56:25:017","duration in milliseconds":8.0776,"children":[{"name":"Get Collection Cache","id":"b359b204-14d1-42d5-a44e-8fe5bf655bda","start time":"05:56:25:017","duration in milliseconds":4.5515,"children":[{"name":"Waiting for Initialization of client to complete","id":"d69c6c20-aabe-4250-883d-d62bb4840ff2","start time":"05:56:25:017","duration in milliseconds":4.5489}]},{"name":"Read Collection","id":"119b8c26-0bfc-4216-93a7-2ec40e95d04d","start time":"05:56:25:021","duration in milliseconds":2.7341,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[],"RegionsContacted":[],"FailedReplicas":[],"AddressResolutionStatistics":[],"StoreResponseStatistics":[],"HttpResponseStats":[{"StartTimeUTC":"2022-06-30T17:56:25.0218391Z","DurationInMs":2.5255,"RequestUri":"https://127.0.0.1:8081/dbs/5df859b0-f279-4458-8a1b-43dea970730e/colls/2ac163bb-2fdd-45c2-ad8a-8463c497ce3a","ResourceType":"Collection","HttpMethod":"GET","ActivityId":"891c4d0f-01db-45d0-abbf-bc5889ca9512","StatusCode":"OK"}]}}}]},{"name":"Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler","id":"4a7645fb-5a43-4fc0-9237-e3c9149e4e15","start time":"05:56:25:025","duration in milliseconds":43.5046,"children":[{"name":"Get Collection Cache","id":"2c33afcb-fba8-41f8-9c69-00dacc816a40","start time":"05:56:25:025","duration in milliseconds":0.0003},{"name":"Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler","id":"ae78618f-eec2-4e7c-8235-b5622a6af94e","start time":"05:56:25:025","duration in milliseconds":43.466,"data":{"System Info":{"systemHistory":[{"dateUtc":"2022-06-30T17:56:15.1066952Z","cpu":9.111,"memory":41979768.000,"threadInfo":{"isThreadStarving":"no info","availableThreads":32764,"minThreads":8,"maxThreads":32767},"numberOfOpenTcpConnection":0}]}},"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.RetryHandler","id":"dd76baf6-7c5f-4d9a-bcd7-face76c785b7","start time":"05:56:25:025","duration in milliseconds":43.4613,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","id":"494b1dce-e6be-473e-a649-7a05dab0d30f","start time":"05:56:25:025","duration in milliseconds":43.4148,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","id":"04c28879-dd4d-40cd-9793-cfb3a33c8846","start time":"05:56:25:025","duration in milliseconds":43.4133,"children":[{"name":"Microsoft.Azure.Documents.ServerStoreModel Transport Request","id":"7fa3e806-c4f8-4879-9869-843895fe8304","start time":"05:56:25:025","duration in milliseconds":14.4112,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:8081/"],"FailedReplicas":[],"AddressResolutionStatistics":[{"StartTimeUTC":"2022-06-30T17:56:25.0310390Z","EndTimeUTC":"2022-06-30T17:56:25.0323052Z","TargetEndpoint":"https://127.0.0.1:8081//addresses/?$resolveFor=dbs%2fbw4JAA%3d%3d%2fcolls%2fbw4JAJF1Ktg%3d%2fdocs&$filter=protocol eq rntbd&$partitionKeyRangeIds=2"}],"StoreResponseStatistics":[{"ResponseTimeUTC":"2022-06-30T17:56:25.0386077Z","ResourceType":"Document","OperationType":"Create","LocationEndpoint":"https://127.0.0.1:8081/","StoreResult":{"ActivityId":"8b3aad1d-558b-4c29-a7c7-a351f08b9b09","StatusCode":"RequestTimeout","SubStatusCode":"Unknown","LSN":-1,"PartitionKeyRangeId":null,"GlobalCommittedLSN":-1,"ItemLSN":-1,"UsingLocalLSN":false,"QuorumAckedLSN":-1,"SessionToken":null,"CurrentWriteQuorum":-1,"CurrentReplicaSetSize":-1,"NumberOfReadRegions":-1,"IsValid":false,"StorePhysicalAddress":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/","RequestCharge":0,"RetryAfterInMs":null,"BELatencyInMs":null,"transportRequestTimeline":null,"TransportException":"A client transport error occurred: The request timed out. See the inner exception for details. (Time: 2022-06-30T17:56:25.0363093Z, activity ID: 11a7b01e-4336-4562-8709-75c07018bccc, error code: RequestTimeout [0x000A], base error: HRESULT 0x80131500, URI: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, connection: transportExceptionDescriptioncbcbd092-3ecf-4f45-9298-a63fd33efa22, payload sent: True)"}}],"HttpResponseStats":[{"StartTimeUTC":"2022-06-30T17:56:25.0254085Z","DurationInMs":2.8227,"RequestUri":"https://127.0.0.1:8081/dbs/bw4JAA==/colls/bw4JAJF1Ktg=/pkranges","ResourceType":"PartitionKeyRange","HttpMethod":"GET","ActivityId":"1b1bd33c-a4b9-4387-9df4-a42ab5e444c8","StatusCode":"OK"},{"StartTimeUTC":"2022-06-30T17:56:25.0285263Z","DurationInMs":2.2929,"RequestUri":"https://127.0.0.1:8081/dbs/bw4JAA==/colls/bw4JAJF1Ktg=/pkranges","ResourceType":"PartitionKeyRange","HttpMethod":"GET","ActivityId":"b7886206-b903-4fb7-b87b-f44763dc3797","StatusCode":"NotModified","ReasonPhrase":"Not Modified"},{"StartTimeUTC":"2022-06-30T17:56:25.0310520Z","DurationInMs":1.0185,"RequestUri":"https://127.0.0.1:8081//addresses/?$resolveFor=dbs%2fbw4JAA%3d%3d%2fcolls%2fbw4JAJF1Ktg%3d%2fdocs&$filter=protocol eq rntbd&$partitionKeyRangeIds=2","ResourceType":"Document","HttpMethod":"GET","ActivityId":"7fcbc21a-050f-48ce-8323-b93effc0e44f","StatusCode":"OK"}]},"Point Operation Statistics":{"Id":"PointOperationStatistics","ActivityId":"8b3aad1d-558b-4c29-a7c7-a351f08b9b09","ResponseTimeUtc":"2022-06-30T17:56:25.0683689Z","StatusCode":408,"SubStatusCode":0,"RequestCharge":0,"RequestUri":"dbs/5df859b0-f279-4458-8a1b-43dea970730e/colls/2ac163bb-2fdd-45c2-ad8a-8463c497ce3a","ErrorMessage":"Microsoft.Azure.Documents.RequestTimeoutException: Message: Request timed out. More info: https://aka.ms/cosmosdb-tsg-request-timeout\r\nActivityId: 8b3aad1d-558b-4c29-a7c7-a351f08b9b09, Request URI: /apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, SDK: Windows/10.0.22000 cosmos-netstandard-sdk/3.28.2\r\n ---> Microsoft.Azure.Documents.TransportException: A client transport error occurred: The request timed out. See the inner exception for details. (Time: 2022-06-30T17:56:25.0363093Z, activity ID: 11a7b01e-4336-4562-8709-75c07018bccc, error code: RequestTimeout [0x000A], base error: HRESULT 0x80131500, URI: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, connection: transportExceptionDescriptioncbcbd092-3ecf-4f45-9298-a63fd33efa22, payload sent: True)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.ThrowTransportExceptionOnItemOperation(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request, Guid activityId, String transportExceptionSourceDescription) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\tests\\Microsoft.Azure.Cosmos.EmulatorTests\\Utils\\TransportClientHelper.cs:line 133\r\n   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.<>c__DisplayClass0_0.<GetContainerWithItemTransportException>b__0(Uri uri, ResourceOperation resourceOperation, DocumentServiceRequest request) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\tests\\Microsoft.Azure.Cosmos.EmulatorTests\\Utils\\TransportClientHelper.cs:line 32\r\n   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.TransportClientWrapper.InvokeStoreAsync(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\tests\\Microsoft.Azure.Cosmos.EmulatorTests\\Utils\\TransportClientHelper.cs:line 219\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.StoreResult.VerifyCanContinueOnException(DocumentClientException ex)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 122\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 33","RequestSessionToken":null,"ResponseSessionToken":null,"BELatencyInMs":null}}}]}]}]}]}]},{"name":"Get Collection Cache","id":"6f4e1a4b-965c-426f-8084-e4959b133999","start time":"05:56:25:068","duration in milliseconds":0.0021}]}</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.stacktrace</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.ThrowTransportExceptionOnItemOperation(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request, Guid activityId, String transportExceptionSourceDescription) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\tests\Microsoft.Azure.Cosmos.EmulatorTests\Utils\TransportClientHelper.cs:line 133
   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.<>c__DisplayClass0_0.<GetContainerWithItemTransportException>b__0(Uri uri, ResourceOperation resourceOperation, DocumentServiceRequest request) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\tests\Microsoft.Azure.Cosmos.EmulatorTests\Utils\TransportClientHelper.cs:line 32
   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.TransportClientWrapper.InvokeStoreAsync(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\tests\Microsoft.Azure.Cosmos.EmulatorTests\Utils\TransportClientHelper.cs:line 219
   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)
   at Microsoft.Azure.Documents.StoreResult.VerifyCanContinueOnException(DocumentClientException ex)
   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)
   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\src\Handler\TransportHandler.cs:line 122
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\src\Handler\TransportHandler.cs:line 33</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.type</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Microsoft.Azure.Cosmos.CosmosException</ATTRIBUTE-VALUE></ACTIVITY>
</OTelActivities>
    </Output>
  </Result>
  <Result>
    <Input>
      <Description>Point Operation With Throttle</Description>
      <Setup><![CDATA[
    string errorMessage = "Mock throttle exception" + Guid.NewGuid().ToString();
    Guid exceptionActivityId = Guid.NewGuid();
    // Set a small retry count to reduce test time
    CosmosClient throttleClient = TestCommon.CreateCosmosClient(builder =>
        builder.WithThrottlingRetryOptions(TimeSpan.FromSeconds(5), 5)
        .WithTransportClientHandlerFactory(transportClient => new TransportClientWrapper(
               transportClient,
               (uri, resourceOperation, request) => TransportClientHelper.ReturnThrottledStoreResponseOnItemOperation(
                    uri,
                    resourceOperation,
                    request,
                    exceptionActivityId,
                    errorMessage)))
        );

    ItemRequestOptions requestOptions = new ItemRequestOptions();
    Container containerWithThrottleException = throttleClient.GetContainer(
        database.Id,
        container.Id);

    //Checking point operation diagnostics on typed operations
    ToDoActivity testItem = ToDoActivity.CreateRandomToDoActivity();
    ITrace trace = null;
    try
    {
        ItemResponse<ToDoActivity> createResponse = await containerWithThrottleException.CreateItemAsync<ToDoActivity>(
          item: testItem,
          requestOptions: requestOptions);
        Assert.Fail("Should have thrown a request timeout exception");
    }
    catch (CosmosException ce) when ((int)ce.StatusCode == (int)Documents.StatusCodes.TooManyRequests)
    {
        trace = ((CosmosTraceDiagnostics)ce.Diagnostics).Value;
    }
]]></Setup>
    </Input>
    <Output>
      <Text><![CDATA[.
└── CreateItemAsync(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │   (
    │       [Client Configuration]
    │       Redacted To Not Change The Baselines From Run To Run
    │   )
    ├── ItemSerialize(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    ├── Get PkValue From Stream(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   ├── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   │   └── Waiting for Initialization of client to complete(00000000-0000-0000-0000-000000000000)  Unknown-Component  12:00:00:000  0.00 milliseconds  
    │   └── Read Collection(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           (
    │               [Client Side Request Stats]
    │               Redacted To Not Change The Baselines From Run To Run
    │           )
    ├── Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │   ├── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   └── Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │       │   (
    │       │       [System Info]
    │       │       Redacted To Not Change The Baselines From Run To Run
    │       │   )
    │       └── Microsoft.Azure.Cosmos.Handlers.RetryHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           ├── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │   └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │       └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           │               (
    │           │                   [Client Side Request Stats]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │               )
    │           ├── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │   └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │       └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           │               (
    │           │                   [Client Side Request Stats]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │               )
    │           ├── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │   └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │       └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           │               (
    │           │                   [Client Side Request Stats]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │               )
    │           ├── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │   └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │       └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           │               (
    │           │                   [Client Side Request Stats]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │               )
    │           ├── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │   └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │       └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           │               (
    │           │                   [Client Side Request Stats]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │               )
    │           └── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │               └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │                   └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │                           (
    │                               [Client Side Request Stats]
    │                               Redacted To Not Change The Baselines From Run To Run
    │                           )
    └── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
]]></Text>
      <Json><![CDATA[{
  "Summary": {},
  "name": "CreateItemAsync",
  "id": "00000000-0000-0000-0000-000000000000",
  "start time": "12:00:00:000",
  "duration in milliseconds": 0,
  "data": {
    "Client Configuration": "Redacted To Not Change The Baselines From Run To Run"
  },
  "children": [
    {
      "name": "ItemSerialize",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0
    },
    {
      "name": "Get PkValue From Stream",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0,
      "children": [
        {
          "name": "Get Collection Cache",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "children": [
            {
              "name": "Waiting for Initialization of client to complete",
              "id": "00000000-0000-0000-0000-000000000000",
              "start time": "12:00:00:000",
              "duration in milliseconds": 0
            }
          ]
        },
        {
          "name": "Read Collection",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "data": {
            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run"
          }
        }
      ]
    },
    {
      "name": "Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0,
      "children": [
        {
          "name": "Get Collection Cache",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0
        },
        {
          "name": "Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "data": {
            "System Info": "Redacted To Not Change The Baselines From Run To Run"
          },
          "children": [
            {
              "name": "Microsoft.Azure.Cosmos.Handlers.RetryHandler",
              "id": "00000000-0000-0000-0000-000000000000",
              "start time": "12:00:00:000",
              "duration in milliseconds": 0,
              "children": [
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "Get Collection Cache",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0
    }
  ]
}]]></Json>
      <OTelActivities><ACTIVITY><OPERATION>Cosmos.CreateItemAsync</OPERATION><ATTRIBUTE-KEY>kind</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>client</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>az.namespace</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Microsoft.DocumentDB</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.system</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>cosmosdb</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.status_code</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>TooManyRequests</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.request_charge</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>9001</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.regions_contacted</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>South Central US</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.message</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Response status code does not indicate success: TooManyRequests (429); Substatus: 3; ActivityId: 6f9a7c81-32cd-4651-8571-82415a557100; Reason: (Mock throttle exception79131e61-6008-4093-a735-1483d5d564b1);</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.stacktrace</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>   at Microsoft.Azure.Cosmos.ResponseMessage.EnsureSuccessStatusCode() in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\src\Handler\ResponseMessage.cs:line 181
   at Microsoft.Azure.Cosmos.CosmosResponseFactoryCore.ProcessMessage[T](ResponseMessage responseMessage, Func`2 createResponse) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\src\Resource\CosmosResponseFactoryCore.cs:line 262
   at Microsoft.Azure.Cosmos.CosmosResponseFactoryCore.CreateItemResponse[T](ResponseMessage responseMessage) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\src\Resource\CosmosResponseFactoryCore.cs:line 87
   at Microsoft.Azure.Cosmos.ContainerCore.CreateItemAsync[T](T item, ITrace trace, Nullable`1 partitionKey, ItemRequestOptions requestOptions, CancellationToken cancellationToken) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\src\Resource\Container\ContainerCore.Items.cs:line 91
   at Microsoft.Azure.Cosmos.ClientContextCore.RunWithDiagnosticsHelperAsync[TResult](ITrace trace, Func`2 task, Func`2 openTelemetry, String operationName) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\src\Resource\ClientContextCore.cs:line 481</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.type</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Microsoft.Azure.Cosmos.CosmosException</ATTRIBUTE-VALUE></ACTIVITY>
</OTelActivities>
    </Output>
  </Result>
  <Result>
    <Input>
      <Description>Point Operation With Forbidden + Max Count = 1</Description>
      <Setup><![CDATA[
        int count = 0;
        List<(string, string)> activityIdAndErrorMessage = new List<(string, string)>(maxCount);
        Guid transportExceptionActivityId = Guid.NewGuid();
        string transportErrorMessage = $"TransportErrorMessage{Guid.NewGuid()}";
        Guid activityIdScope = Guid.Empty;
        void interceptor(Uri uri, Documents.ResourceOperation operation, Documents.DocumentServiceRequest request)
        {
            Assert.AreNotEqual(System.Diagnostics.Trace.CorrelationManager.ActivityId, Guid.Empty, "Activity scope should be set");

            if (request.ResourceType == Documents.ResourceType.Document)
            {
                if (activityIdScope == Guid.Empty)
                {
                    activityIdScope = System.Diagnostics.Trace.CorrelationManager.ActivityId;
                }
                else
                {
                    Assert.AreEqual(System.Diagnostics.Trace.CorrelationManager.ActivityId, activityIdScope, "Activity scope should match on retries");
                }

                if (count >= maxCount)
                {
                    TransportClientHelper.ThrowTransportExceptionOnItemOperation(
                        uri,
                        operation,
                        request,
                        transportExceptionActivityId,
                        transportErrorMessage);
                }

                count++;
                string activityId = Guid.NewGuid().ToString();
                string errorMessage = $"Error{Guid.NewGuid()}";

                activityIdAndErrorMessage.Add((activityId, errorMessage));
                TransportClientHelper.ThrowForbiddendExceptionOnItemOperation(
                    uri,
                    request,
                    activityId,
                    errorMessage);
            }
        }

        Container containerWithTransportException = TransportClientHelper.GetContainerWithIntercepter(
            database.Id,
            container.Id,
            interceptor);
        //Checking point operation diagnostics on typed operations
        ToDoActivity testItem = ToDoActivity.CreateRandomToDoActivity();

        ITrace trace = null;
        try
        {
            ItemResponse<ToDoActivity> createResponse = await containerWithTransportException.CreateItemAsync<ToDoActivity>(
              item: testItem);
            Assert.Fail("Should have thrown a request timeout exception");
        }
        catch (CosmosException ce) when (ce.StatusCode == System.Net.HttpStatusCode.RequestTimeout)
        {
            trace = ((CosmosTraceDiagnostics)ce.Diagnostics).Value;
            stringLength.Add(trace.ToString().Length);
        }

]]></Setup>
    </Input>
    <Output>
      <Text><![CDATA[.
└── CreateItemAsync(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │   (
    │       [Client Configuration]
    │       Redacted To Not Change The Baselines From Run To Run
    │   )
    ├── ItemSerialize(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    ├── Get PkValue From Stream(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   ├── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   │   └── Waiting for Initialization of client to complete(00000000-0000-0000-0000-000000000000)  Unknown-Component  12:00:00:000  0.00 milliseconds  
    │   └── Read Collection(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           (
    │               [Client Side Request Stats]
    │               Redacted To Not Change The Baselines From Run To Run
    │           )
    ├── Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │   ├── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   └── Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │       │   (
    │       │       [System Info]
    │       │       Redacted To Not Change The Baselines From Run To Run
    │       │   )
    │       └── Microsoft.Azure.Cosmos.Handlers.RetryHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           ├── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │   └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │       └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           │               (
    │           │                   [Client Side Request Stats]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │                   [Point Operation Statistics]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │               )
    │           └── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │               └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │                   └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │                           (
    │                               [Client Side Request Stats]
    │                               Redacted To Not Change The Baselines From Run To Run
    │                               [Point Operation Statistics]
    │                               Redacted To Not Change The Baselines From Run To Run
    │                           )
    └── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
]]></Text>
      <Json><![CDATA[{
  "Summary": {},
  "name": "CreateItemAsync",
  "id": "00000000-0000-0000-0000-000000000000",
  "start time": "12:00:00:000",
  "duration in milliseconds": 0,
  "data": {
    "Client Configuration": "Redacted To Not Change The Baselines From Run To Run"
  },
  "children": [
    {
      "name": "ItemSerialize",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0
    },
    {
      "name": "Get PkValue From Stream",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0,
      "children": [
        {
          "name": "Get Collection Cache",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "children": [
            {
              "name": "Waiting for Initialization of client to complete",
              "id": "00000000-0000-0000-0000-000000000000",
              "start time": "12:00:00:000",
              "duration in milliseconds": 0
            }
          ]
        },
        {
          "name": "Read Collection",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "data": {
            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run"
          }
        }
      ]
    },
    {
      "name": "Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0,
      "children": [
        {
          "name": "Get Collection Cache",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0
        },
        {
          "name": "Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "data": {
            "System Info": "Redacted To Not Change The Baselines From Run To Run"
          },
          "children": [
            {
              "name": "Microsoft.Azure.Cosmos.Handlers.RetryHandler",
              "id": "00000000-0000-0000-0000-000000000000",
              "start time": "12:00:00:000",
              "duration in milliseconds": 0,
              "children": [
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run",
                            "Point Operation Statistics": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run",
                            "Point Operation Statistics": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "Get Collection Cache",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0
    }
  ]
}]]></Json>
      <OTelActivities><ACTIVITY><OPERATION>Cosmos.CreateItemAsync</OPERATION><ATTRIBUTE-KEY>kind</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>client</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>az.namespace</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Microsoft.DocumentDB</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.system</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>cosmosdb</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.status_code</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>RequestTimeout</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.request_charge</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>0</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.regions_contacted</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>South Central US</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.message</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Response status code does not indicate success: RequestTimeout (408); Substatus: 0; ActivityId: cdc8cb2d-0bd2-494d-9ca7-22020b4344bd; Reason: (Message: Request timed out. More info: https://aka.ms/cosmosdb-tsg-request-timeout
ActivityId: cdc8cb2d-0bd2-494d-9ca7-22020b4344bd, Request URI: /apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, SDK: Windows/10.0.22000 cosmos-netstandard-sdk/3.28.2);; Diagnostics:{"Summary":{"DirectCalls":{"(403, 3)":1,"(408, 0)":1},"RegionsContacted":1,"GatewayCalls":{"(200, 0)":3,"(304, 0)":1}},"name":"CreateItemAsync","id":"1701042d-4dce-4d20-92e8-198ac1d0a04d","start time":"05:56:25:633","duration in milliseconds":23.1337,"data":{"Client Configuration":{"Client Created Time Utc":"2022-06-30T17:56:25.6337833Z","MachineId":"hashedMachineName:389da6c8-658b-e19e-372d-16c45bfaf481","NumberOfClientsCreated":7,"NumberOfActiveClients":7,"ConnectionMode":"Gateway","User Agent":"cosmos-netstandard-sdk/3.28.0|7|X64|Microsoft Windows 10.0.22000|.NET 6.0.6|N|","ConnectionConfig":{"gw":"(cps:50, urto:10, p:False, httpf: False)","rntbd":"(cto: 5, icto: -1, mrpc: 30, mcpe: 65535, erd: True, pr: ReuseUnicastPort)","other":"(ed:False, be:False)"},"ConsistencyConfig":"(consistency: NotSet, prgns:[], apprgn: )","ProcessorCount":0}},"children":[{"name":"ItemSerialize","id":"a3710761-55e0-44d0-bc34-b71774ad3f58","start time":"05:56:25:633","duration in milliseconds":0.0332},{"name":"Get PkValue From Stream","id":"0489dbbb-3973-4194-ae2b-ec2110c33e8d","start time":"05:56:25:633","duration in milliseconds":6.127,"children":[{"name":"Get Collection Cache","id":"43932e02-99ba-4b75-af8f-680187371308","start time":"05:56:25:633","duration in milliseconds":3.4564,"children":[{"name":"Waiting for Initialization of client to complete","id":"9d3383a7-6fc0-4573-835d-539c75d8a422","start time":"05:56:25:633","duration in milliseconds":3.4546}]},{"name":"Read Collection","id":"db21eb41-6486-41ec-ae7d-f0f0bf2d692b","start time":"05:56:25:637","duration in milliseconds":2.5801,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[],"RegionsContacted":[],"FailedReplicas":[],"AddressResolutionStatistics":[],"StoreResponseStatistics":[],"HttpResponseStats":[{"StartTimeUTC":"2022-06-30T17:56:25.6374503Z","DurationInMs":2.4058,"RequestUri":"https://127.0.0.1:8081/dbs/5df859b0-f279-4458-8a1b-43dea970730e/colls/2ac163bb-2fdd-45c2-ad8a-8463c497ce3a","ResourceType":"Collection","HttpMethod":"GET","ActivityId":"9da540ca-31b0-4a28-b9bb-e05268d98ca8","StatusCode":"OK"}]}}}]},{"name":"Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler","id":"c5fd1381-41cd-4197-9262-71ab0e970bce","start time":"05:56:25:640","duration in milliseconds":16.597,"children":[{"name":"Get Collection Cache","id":"30180a92-766e-4040-bcde-80025b8c5a9b","start time":"05:56:25:640","duration in milliseconds":0.0007},{"name":"Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler","id":"ceb50e66-dde5-44c1-9747-9ab424463758","start time":"05:56:25:640","duration in milliseconds":16.5696,"data":{"System Info":{"systemHistory":[{"dateUtc":"2022-06-30T17:56:15.1066952Z","cpu":9.111,"memory":41979768.000,"threadInfo":{"isThreadStarving":"no info","availableThreads":32764,"minThreads":8,"maxThreads":32767},"numberOfOpenTcpConnection":0},{"dateUtc":"2022-06-30T17:56:25.1214334Z","cpu":16.751,"memory":41873208.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.3949,"availableThreads":32765,"minThreads":8,"maxThreads":32767},"numberOfOpenTcpConnection":3}]}},"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.RetryHandler","id":"f2bbc9b1-4dcf-4aa6-952f-5105b8ae554a","start time":"05:56:25:640","duration in milliseconds":16.5667,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","id":"07d4aa61-db78-434b-a993-9638930b8a98","start time":"05:56:25:640","duration in milliseconds":9.5853,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","id":"5e736733-bfe9-42f3-92b6-841af2afa4d2","start time":"05:56:25:640","duration in milliseconds":9.5841,"children":[{"name":"Microsoft.Azure.Documents.ServerStoreModel Transport Request","id":"b426372c-b417-4d90-a412-d771035a7081","start time":"05:56:25:640","duration in milliseconds":8.9175,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:8081/"],"FailedReplicas":[],"AddressResolutionStatistics":[{"StartTimeUTC":"2022-06-30T17:56:25.6444618Z","EndTimeUTC":"2022-06-30T17:56:25.6458769Z","TargetEndpoint":"https://127.0.0.1:8081//addresses/?$resolveFor=dbs%2fbw4JAA%3d%3d%2fcolls%2fbw4JAJF1Ktg%3d%2fdocs&$filter=protocol eq rntbd&$partitionKeyRangeIds=2"}],"StoreResponseStatistics":[{"ResponseTimeUTC":"2022-06-30T17:56:25.6486961Z","ResourceType":"Document","OperationType":"Create","LocationEndpoint":"https://127.0.0.1:8081/","StoreResult":{"ActivityId":"e4bc1096-56a7-4d2d-a376-5922fca7e6af","StatusCode":"Forbidden","SubStatusCode":"WriteForbidden","LSN":-1,"PartitionKeyRangeId":null,"GlobalCommittedLSN":-1,"ItemLSN":-1,"UsingLocalLSN":false,"QuorumAckedLSN":-1,"SessionToken":null,"CurrentWriteQuorum":-1,"CurrentReplicaSetSize":-1,"NumberOfReadRegions":-1,"IsValid":false,"StorePhysicalAddress":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/","RequestCharge":9001,"RetryAfterInMs":null,"BELatencyInMs":null,"transportRequestTimeline":null,"TransportException":null}}],"HttpResponseStats":[{"StartTimeUTC":"2022-06-30T17:56:25.6401321Z","DurationInMs":2.142,"RequestUri":"https://127.0.0.1:8081/dbs/bw4JAA==/colls/bw4JAJF1Ktg=/pkranges","ResourceType":"PartitionKeyRange","HttpMethod":"GET","ActivityId":"5a0b24d6-8402-47df-a95e-7f437460624c","StatusCode":"OK"},{"StartTimeUTC":"2022-06-30T17:56:25.6424537Z","DurationInMs":1.7312,"RequestUri":"https://127.0.0.1:8081/dbs/bw4JAA==/colls/bw4JAJF1Ktg=/pkranges","ResourceType":"PartitionKeyRange","HttpMethod":"GET","ActivityId":"e9c71130-bfdd-490f-b747-02622933c24f","StatusCode":"NotModified","ReasonPhrase":"Not Modified"},{"StartTimeUTC":"2022-06-30T17:56:25.6444704Z","DurationInMs":1.1737,"RequestUri":"https://127.0.0.1:8081//addresses/?$resolveFor=dbs%2fbw4JAA%3d%3d%2fcolls%2fbw4JAJF1Ktg%3d%2fdocs&$filter=protocol eq rntbd&$partitionKeyRangeIds=2","ResourceType":"Document","HttpMethod":"GET","ActivityId":"e4bc1096-56a7-4d2d-a376-5922fca7e6af","StatusCode":"OK"}]},"Point Operation Statistics":{"Id":"PointOperationStatistics","ActivityId":"e4bc1096-56a7-4d2d-a376-5922fca7e6af","ResponseTimeUtc":"2022-06-30T17:56:25.6494941Z","StatusCode":403,"SubStatusCode":3,"RequestCharge":9001,"RequestUri":"dbs/5df859b0-f279-4458-8a1b-43dea970730e/colls/2ac163bb-2fdd-45c2-ad8a-8463c497ce3a","ErrorMessage":"Microsoft.Azure.Documents.ForbiddenException: Error65fed5eb-10ce-4684-9826-27b69fefa357\r\nActivityId: 61fb783c-2a37-4291-9292-3f19c5908c71, Request URI: /apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, SDK: Windows/10.0.22000 cosmos-netstandard-sdk/3.28.2\r\n   at Microsoft.Azure.Documents.StoreResult.ToResponse(RequestChargeTracker requestChargeTracker)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 122\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 33","RequestSessionToken":null,"ResponseSessionToken":null,"BELatencyInMs":null}}}]}]},{"name":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","id":"caf0d315-bd42-4dbf-83d0-f15bf4926d8e","start time":"05:56:25:655","duration in milliseconds":1.5173,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","id":"b4d38fa3-ec1c-4868-9948-5a109c60ab76","start time":"05:56:25:655","duration in milliseconds":1.5152,"children":[{"name":"Microsoft.Azure.Documents.ServerStoreModel Transport Request","id":"77f2c201-5f83-4510-8f57-12a552b068c4","start time":"05:56:25:655","duration in milliseconds":0.7358,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:8081/"],"FailedReplicas":[],"AddressResolutionStatistics":[],"StoreResponseStatistics":[{"ResponseTimeUTC":"2022-06-30T17:56:25.6555864Z","ResourceType":"Document","OperationType":"Create","LocationEndpoint":"https://127.0.0.1:8081/","StoreResult":{"ActivityId":"cdc8cb2d-0bd2-494d-9ca7-22020b4344bd","StatusCode":"RequestTimeout","SubStatusCode":"Unknown","LSN":-1,"PartitionKeyRangeId":null,"GlobalCommittedLSN":-1,"ItemLSN":-1,"UsingLocalLSN":false,"QuorumAckedLSN":-1,"SessionToken":null,"CurrentWriteQuorum":-1,"CurrentReplicaSetSize":-1,"NumberOfReadRegions":-1,"IsValid":false,"StorePhysicalAddress":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/","RequestCharge":0,"RetryAfterInMs":null,"BELatencyInMs":null,"transportRequestTimeline":null,"TransportException":"A client transport error occurred: The request timed out. See the inner exception for details. (Time: 2022-06-30T17:56:25.6555119Z, activity ID: 3c2edc3e-78b6-4e23-92ef-43a91abaaffd, error code: RequestTimeout [0x000A], base error: HRESULT 0x80131500, URI: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, connection: TransportErrorMessagef642ab9b-2002-4690-8c41-010a40885c9c, payload sent: True)"}}]},"Point Operation Statistics":{"Id":"PointOperationStatistics","ActivityId":"cdc8cb2d-0bd2-494d-9ca7-22020b4344bd","ResponseTimeUtc":"2022-06-30T17:56:25.6564235Z","StatusCode":408,"SubStatusCode":0,"RequestCharge":0,"RequestUri":"dbs/5df859b0-f279-4458-8a1b-43dea970730e/colls/2ac163bb-2fdd-45c2-ad8a-8463c497ce3a","ErrorMessage":"Microsoft.Azure.Documents.RequestTimeoutException: Message: Request timed out. More info: https://aka.ms/cosmosdb-tsg-request-timeout\r\nActivityId: cdc8cb2d-0bd2-494d-9ca7-22020b4344bd, Request URI: /apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, SDK: Windows/10.0.22000 cosmos-netstandard-sdk/3.28.2\r\n ---> Microsoft.Azure.Documents.TransportException: A client transport error occurred: The request timed out. See the inner exception for details. (Time: 2022-06-30T17:56:25.6555119Z, activity ID: 3c2edc3e-78b6-4e23-92ef-43a91abaaffd, error code: RequestTimeout [0x000A], base error: HRESULT 0x80131500, URI: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, connection: TransportErrorMessagef642ab9b-2002-4690-8c41-010a40885c9c, payload sent: True)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.ThrowTransportExceptionOnItemOperation(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request, Guid activityId, String transportExceptionSourceDescription) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\tests\\Microsoft.Azure.Cosmos.EmulatorTests\\Utils\\TransportClientHelper.cs:line 133\r\n   at Microsoft.Azure.Cosmos.EmulatorTests.Tracing.EndToEndTraceWriterBaselineTests.<>c__DisplayClass11_2.<PointOperationsExceptionsAsync>g__interceptor|3(Uri uri, ResourceOperation operation, DocumentServiceRequest request) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\tests\\Microsoft.Azure.Cosmos.EmulatorTests\\Tracing\\EndToEndTraceWriterBaselineTests.cs:line 906\r\n   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.TransportClientWrapper.InvokeStoreAsync(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\tests\\Microsoft.Azure.Cosmos.EmulatorTests\\Utils\\TransportClientHelper.cs:line 219\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.StoreResult.VerifyCanContinueOnException(DocumentClientException ex)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 122\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 33","RequestSessionToken":null,"ResponseSessionToken":null,"BELatencyInMs":null}}}]}]}]}]}]},{"name":"Get Collection Cache","id":"cc9de31f-4052-4574-aa19-34d9e27e943f","start time":"05:56:25:656","duration in milliseconds":0.0012}]}</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.stacktrace</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.ThrowTransportExceptionOnItemOperation(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request, Guid activityId, String transportExceptionSourceDescription) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\tests\Microsoft.Azure.Cosmos.EmulatorTests\Utils\TransportClientHelper.cs:line 133
   at Microsoft.Azure.Cosmos.EmulatorTests.Tracing.EndToEndTraceWriterBaselineTests.<>c__DisplayClass11_2.<PointOperationsExceptionsAsync>g__interceptor|3(Uri uri, ResourceOperation operation, DocumentServiceRequest request) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\tests\Microsoft.Azure.Cosmos.EmulatorTests\Tracing\EndToEndTraceWriterBaselineTests.cs:line 906
   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.TransportClientWrapper.InvokeStoreAsync(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\tests\Microsoft.Azure.Cosmos.EmulatorTests\Utils\TransportClientHelper.cs:line 219
   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)
   at Microsoft.Azure.Documents.StoreResult.VerifyCanContinueOnException(DocumentClientException ex)
   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)
   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\src\Handler\TransportHandler.cs:line 122
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\src\Handler\TransportHandler.cs:line 33</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.type</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Microsoft.Azure.Cosmos.CosmosException</ATTRIBUTE-VALUE></ACTIVITY>
</OTelActivities>
    </Output>
  </Result>
  <Result>
    <Input>
      <Description>Point Operation With Forbidden + Max Count = 2</Description>
      <Setup><![CDATA[
        int count = 0;
        List<(string, string)> activityIdAndErrorMessage = new List<(string, string)>(maxCount);
        Guid transportExceptionActivityId = Guid.NewGuid();
        string transportErrorMessage = $"TransportErrorMessage{Guid.NewGuid()}";
        Guid activityIdScope = Guid.Empty;
        void interceptor(Uri uri, Documents.ResourceOperation operation, Documents.DocumentServiceRequest request)
        {
            Assert.AreNotEqual(System.Diagnostics.Trace.CorrelationManager.ActivityId, Guid.Empty, "Activity scope should be set");

            if (request.ResourceType == Documents.ResourceType.Document)
            {
                if (activityIdScope == Guid.Empty)
                {
                    activityIdScope = System.Diagnostics.Trace.CorrelationManager.ActivityId;
                }
                else
                {
                    Assert.AreEqual(System.Diagnostics.Trace.CorrelationManager.ActivityId, activityIdScope, "Activity scope should match on retries");
                }

                if (count >= maxCount)
                {
                    TransportClientHelper.ThrowTransportExceptionOnItemOperation(
                        uri,
                        operation,
                        request,
                        transportExceptionActivityId,
                        transportErrorMessage);
                }

                count++;
                string activityId = Guid.NewGuid().ToString();
                string errorMessage = $"Error{Guid.NewGuid()}";

                activityIdAndErrorMessage.Add((activityId, errorMessage));
                TransportClientHelper.ThrowForbiddendExceptionOnItemOperation(
                    uri,
                    request,
                    activityId,
                    errorMessage);
            }
        }

        Container containerWithTransportException = TransportClientHelper.GetContainerWithIntercepter(
            database.Id,
            container.Id,
            interceptor);
        //Checking point operation diagnostics on typed operations
        ToDoActivity testItem = ToDoActivity.CreateRandomToDoActivity();

        ITrace trace = null;
        try
        {
            ItemResponse<ToDoActivity> createResponse = await containerWithTransportException.CreateItemAsync<ToDoActivity>(
              item: testItem);
            Assert.Fail("Should have thrown a request timeout exception");
        }
        catch (CosmosException ce) when (ce.StatusCode == System.Net.HttpStatusCode.RequestTimeout)
        {
            trace = ((CosmosTraceDiagnostics)ce.Diagnostics).Value;
            stringLength.Add(trace.ToString().Length);
        }

]]></Setup>
    </Input>
    <Output>
      <Text><![CDATA[.
└── CreateItemAsync(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │   (
    │       [Client Configuration]
    │       Redacted To Not Change The Baselines From Run To Run
    │   )
    ├── ItemSerialize(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    ├── Get PkValue From Stream(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   ├── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   │   └── Waiting for Initialization of client to complete(00000000-0000-0000-0000-000000000000)  Unknown-Component  12:00:00:000  0.00 milliseconds  
    │   └── Read Collection(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           (
    │               [Client Side Request Stats]
    │               Redacted To Not Change The Baselines From Run To Run
    │           )
    ├── Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │   ├── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   └── Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │       │   (
    │       │       [System Info]
    │       │       Redacted To Not Change The Baselines From Run To Run
    │       │   )
    │       └── Microsoft.Azure.Cosmos.Handlers.RetryHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           ├── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │   └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │       └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           │               (
    │           │                   [Client Side Request Stats]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │                   [Point Operation Statistics]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │               )
    │           ├── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │   └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │       └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           │               (
    │           │                   [Client Side Request Stats]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │                   [Point Operation Statistics]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │               )
    │           └── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │               └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │                   └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │                           (
    │                               [Client Side Request Stats]
    │                               Redacted To Not Change The Baselines From Run To Run
    │                               [Point Operation Statistics]
    │                               Redacted To Not Change The Baselines From Run To Run
    │                           )
    └── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
]]></Text>
      <Json><![CDATA[{
  "Summary": {},
  "name": "CreateItemAsync",
  "id": "00000000-0000-0000-0000-000000000000",
  "start time": "12:00:00:000",
  "duration in milliseconds": 0,
  "data": {
    "Client Configuration": "Redacted To Not Change The Baselines From Run To Run"
  },
  "children": [
    {
      "name": "ItemSerialize",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0
    },
    {
      "name": "Get PkValue From Stream",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0,
      "children": [
        {
          "name": "Get Collection Cache",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "children": [
            {
              "name": "Waiting for Initialization of client to complete",
              "id": "00000000-0000-0000-0000-000000000000",
              "start time": "12:00:00:000",
              "duration in milliseconds": 0
            }
          ]
        },
        {
          "name": "Read Collection",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "data": {
            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run"
          }
        }
      ]
    },
    {
      "name": "Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0,
      "children": [
        {
          "name": "Get Collection Cache",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0
        },
        {
          "name": "Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "data": {
            "System Info": "Redacted To Not Change The Baselines From Run To Run"
          },
          "children": [
            {
              "name": "Microsoft.Azure.Cosmos.Handlers.RetryHandler",
              "id": "00000000-0000-0000-0000-000000000000",
              "start time": "12:00:00:000",
              "duration in milliseconds": 0,
              "children": [
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run",
                            "Point Operation Statistics": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run",
                            "Point Operation Statistics": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run",
                            "Point Operation Statistics": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "Get Collection Cache",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0
    }
  ]
}]]></Json>
      <OTelActivities><ACTIVITY><OPERATION>Cosmos.CreateItemAsync</OPERATION><ATTRIBUTE-KEY>kind</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>client</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>az.namespace</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Microsoft.DocumentDB</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.system</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>cosmosdb</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.status_code</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>RequestTimeout</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.request_charge</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>0</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.regions_contacted</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>South Central US</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.message</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Response status code does not indicate success: RequestTimeout (408); Substatus: 0; ActivityId: 67f4930d-0a95-446c-83e4-c85bb0301890; Reason: (Message: Request timed out. More info: https://aka.ms/cosmosdb-tsg-request-timeout
ActivityId: 67f4930d-0a95-446c-83e4-c85bb0301890, Request URI: /apps/DocDbApp/services/DocDbServer31/partitions/a4cb496b-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, SDK: Windows/10.0.22000 cosmos-netstandard-sdk/3.28.2);; Diagnostics:{"Summary":{"DirectCalls":{"(403, 3)":2,"(408, 0)":1},"RegionsContacted":1,"GatewayCalls":{"(200, 0)":3,"(304, 0)":1}},"name":"CreateItemAsync","id":"f69c8a99-3764-4e71-83a1-2d16eb5bbc08","start time":"05:56:25:657","duration in milliseconds":1025.0706,"data":{"Client Configuration":{"Client Created Time Utc":"2022-06-30T17:56:25.6574413Z","MachineId":"hashedMachineName:389da6c8-658b-e19e-372d-16c45bfaf481","NumberOfClientsCreated":8,"NumberOfActiveClients":8,"ConnectionMode":"Gateway","User Agent":"cosmos-netstandard-sdk/3.28.0|8|X64|Microsoft Windows 10.0.22000|.NET 6.0.6|N|","ConnectionConfig":{"gw":"(cps:50, urto:10, p:False, httpf: False)","rntbd":"(cto: 5, icto: -1, mrpc: 30, mcpe: 65535, erd: True, pr: ReuseUnicastPort)","other":"(ed:False, be:False)"},"ConsistencyConfig":"(consistency: NotSet, prgns:[], apprgn: )","ProcessorCount":0}},"children":[{"name":"ItemSerialize","id":"97e058dc-1373-4415-b82e-877e5fc4c34c","start time":"05:56:25:657","duration in milliseconds":0.032},{"name":"Get PkValue From Stream","id":"b5e54e81-a7a1-42af-bc5f-7b99ada2a50d","start time":"05:56:25:657","duration in milliseconds":8.139,"children":[{"name":"Get Collection Cache","id":"eacc44a4-1230-4cab-9f4d-fc8a8767ef00","start time":"05:56:25:657","duration in milliseconds":4.7825,"children":[{"name":"Waiting for Initialization of client to complete","id":"db52c91f-9088-4a51-9ecc-c3f6c28b8d6c","start time":"05:56:25:657","duration in milliseconds":4.7804}]},{"name":"Read Collection","id":"48a906ff-550f-417b-ace5-9afe3238e657","start time":"05:56:25:662","duration in milliseconds":3.2564,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[],"RegionsContacted":[],"FailedReplicas":[],"AddressResolutionStatistics":[],"StoreResponseStatistics":[],"HttpResponseStats":[{"StartTimeUTC":"2022-06-30T17:56:25.6624315Z","DurationInMs":3.0121,"RequestUri":"https://127.0.0.1:8081/dbs/5df859b0-f279-4458-8a1b-43dea970730e/colls/2ac163bb-2fdd-45c2-ad8a-8463c497ce3a","ResourceType":"Collection","HttpMethod":"GET","ActivityId":"0ff0da3d-15fc-46bb-a214-3c633bb2b7a2","StatusCode":"OK"}]}}}]},{"name":"Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler","id":"5621f1ab-1bfa-4e05-82b8-b3dc37bdfd71","start time":"05:56:25:665","duration in milliseconds":1016.4314,"children":[{"name":"Get Collection Cache","id":"7879d707-3bc7-42fe-9cc6-02af3958c0ab","start time":"05:56:25:665","duration in milliseconds":0.0003},{"name":"Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler","id":"c83a70a0-323e-43aa-ae63-be7fdc9406bb","start time":"05:56:25:665","duration in milliseconds":1016.3984,"data":{"System Info":{"systemHistory":[{"dateUtc":"2022-06-30T17:56:15.1066952Z","cpu":9.111,"memory":41979768.000,"threadInfo":{"isThreadStarving":"no info","availableThreads":32764,"minThreads":8,"maxThreads":32767},"numberOfOpenTcpConnection":0},{"dateUtc":"2022-06-30T17:56:25.1214334Z","cpu":16.751,"memory":41873208.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.3949,"availableThreads":32765,"minThreads":8,"maxThreads":32767},"numberOfOpenTcpConnection":3}]}},"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.RetryHandler","id":"efae7d5d-8272-4e29-824a-4060dd739914","start time":"05:56:25:665","duration in milliseconds":1016.3949,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","id":"7c5d8ccc-a63a-46e0-ab1d-16a1e911e8f9","start time":"05:56:25:665","duration in milliseconds":6.335,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","id":"5b255a3e-b327-4d86-86ae-4b8e934ef45e","start time":"05:56:25:665","duration in milliseconds":6.3333,"children":[{"name":"Microsoft.Azure.Documents.ServerStoreModel Transport Request","id":"e891403a-cb5b-4850-b660-7d22791cef04","start time":"05:56:25:665","duration in milliseconds":5.8079,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer31/partitions/a4cb496b-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:8081/"],"FailedReplicas":[],"AddressResolutionStatistics":[{"StartTimeUTC":"2022-06-30T17:56:25.6699641Z","EndTimeUTC":"2022-06-30T17:56:25.6708894Z","TargetEndpoint":"https://127.0.0.1:8081//addresses/?$resolveFor=dbs%2fbw4JAA%3d%3d%2fcolls%2fbw4JAJF1Ktg%3d%2fdocs&$filter=protocol eq rntbd&$partitionKeyRangeIds=1"}],"StoreResponseStatistics":[{"ResponseTimeUTC":"2022-06-30T17:56:25.6712571Z","ResourceType":"Document","OperationType":"Create","LocationEndpoint":"https://127.0.0.1:8081/","StoreResult":{"ActivityId":"8118a995-d42e-4daa-bc66-45056b586903","StatusCode":"Forbidden","SubStatusCode":"WriteForbidden","LSN":-1,"PartitionKeyRangeId":null,"GlobalCommittedLSN":-1,"ItemLSN":-1,"UsingLocalLSN":false,"QuorumAckedLSN":-1,"SessionToken":null,"CurrentWriteQuorum":-1,"CurrentReplicaSetSize":-1,"NumberOfReadRegions":-1,"IsValid":false,"StorePhysicalAddress":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer31/partitions/a4cb496b-38c8-11e6-8106-8cdcd42c33be/replicas/1p/","RequestCharge":9001,"RetryAfterInMs":null,"BELatencyInMs":null,"transportRequestTimeline":null,"TransportException":null}}],"HttpResponseStats":[{"StartTimeUTC":"2022-06-30T17:56:25.6657845Z","DurationInMs":2.2392,"RequestUri":"https://127.0.0.1:8081/dbs/bw4JAA==/colls/bw4JAJF1Ktg=/pkranges","ResourceType":"PartitionKeyRange","HttpMethod":"GET","ActivityId":"358140ca-9da5-431c-b1fb-c0c8acedd2f3","StatusCode":"OK"},{"StartTimeUTC":"2022-06-30T17:56:25.6681698Z","DurationInMs":1.6643,"RequestUri":"https://127.0.0.1:8081/dbs/bw4JAA==/colls/bw4JAJF1Ktg=/pkranges","ResourceType":"PartitionKeyRange","HttpMethod":"GET","ActivityId":"74055331-5100-43fb-b500-83cf881a7c7d","StatusCode":"NotModified","ReasonPhrase":"Not Modified"},{"StartTimeUTC":"2022-06-30T17:56:25.6699711Z","DurationInMs":0.7758,"RequestUri":"https://127.0.0.1:8081//addresses/?$resolveFor=dbs%2fbw4JAA%3d%3d%2fcolls%2fbw4JAJF1Ktg%3d%2fdocs&$filter=protocol eq rntbd&$partitionKeyRangeIds=1","ResourceType":"Document","HttpMethod":"GET","ActivityId":"8118a995-d42e-4daa-bc66-45056b586903","StatusCode":"OK"}]},"Point Operation Statistics":{"Id":"PointOperationStatistics","ActivityId":"8118a995-d42e-4daa-bc66-45056b586903","ResponseTimeUtc":"2022-06-30T17:56:25.6718914Z","StatusCode":403,"SubStatusCode":3,"RequestCharge":9001,"RequestUri":"dbs/5df859b0-f279-4458-8a1b-43dea970730e/colls/2ac163bb-2fdd-45c2-ad8a-8463c497ce3a","ErrorMessage":"Microsoft.Azure.Documents.ForbiddenException: Error396c4751-4112-4194-9eb4-086c6f52a105\r\nActivityId: 9efa4679-f3ea-49f4-8011-68dadda6ac98, Request URI: /apps/DocDbApp/services/DocDbServer31/partitions/a4cb496b-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, SDK: Windows/10.0.22000 cosmos-netstandard-sdk/3.28.2\r\n   at Microsoft.Azure.Documents.StoreResult.ToResponse(RequestChargeTracker requestChargeTracker)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 122\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 33","RequestSessionToken":null,"ResponseSessionToken":null,"BELatencyInMs":null}}}]}]},{"name":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","id":"f5420f6f-3eae-48f9-aaeb-b104126cc59f","start time":"05:56:25:672","duration in milliseconds":0.8883,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","id":"9ef8b86c-426b-4cb1-9887-ae2f2e2a105a","start time":"05:56:25:672","duration in milliseconds":0.8854,"children":[{"name":"Microsoft.Azure.Documents.ServerStoreModel Transport Request","id":"84722a2e-1e8d-4a06-b760-26012d6e5829","start time":"05:56:25:673","duration in milliseconds":0.432,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer31/partitions/a4cb496b-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:8081/"],"FailedReplicas":[],"AddressResolutionStatistics":[],"StoreResponseStatistics":[{"ResponseTimeUTC":"2022-06-30T17:56:25.6731459Z","ResourceType":"Document","OperationType":"Create","LocationEndpoint":"https://127.0.0.1:8081/","StoreResult":{"ActivityId":"8118a995-d42e-4daa-bc66-45056b586903","StatusCode":"Forbidden","SubStatusCode":"WriteForbidden","LSN":-1,"PartitionKeyRangeId":null,"GlobalCommittedLSN":-1,"ItemLSN":-1,"UsingLocalLSN":false,"QuorumAckedLSN":-1,"SessionToken":null,"CurrentWriteQuorum":-1,"CurrentReplicaSetSize":-1,"NumberOfReadRegions":-1,"IsValid":false,"StorePhysicalAddress":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer31/partitions/a4cb496b-38c8-11e6-8106-8cdcd42c33be/replicas/1p/","RequestCharge":9001,"RetryAfterInMs":null,"BELatencyInMs":null,"transportRequestTimeline":null,"TransportException":null}}]},"Point Operation Statistics":{"Id":"PointOperationStatistics","ActivityId":"8118a995-d42e-4daa-bc66-45056b586903","ResponseTimeUtc":"2022-06-30T17:56:25.6737348Z","StatusCode":403,"SubStatusCode":3,"RequestCharge":9001,"RequestUri":"dbs/5df859b0-f279-4458-8a1b-43dea970730e/colls/2ac163bb-2fdd-45c2-ad8a-8463c497ce3a","ErrorMessage":"Microsoft.Azure.Documents.ForbiddenException: Errora4e7c8e4-df5a-4ba1-8e3b-77d359d5e181\r\nActivityId: 5d387089-5290-41c9-83e3-1c347920f81f, Request URI: /apps/DocDbApp/services/DocDbServer31/partitions/a4cb496b-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, SDK: Windows/10.0.22000 cosmos-netstandard-sdk/3.28.2\r\n   at Microsoft.Azure.Documents.StoreResult.ToResponse(RequestChargeTracker requestChargeTracker)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 122\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 33","RequestSessionToken":null,"ResponseSessionToken":null,"BELatencyInMs":null}}}]}]},{"name":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","id":"648c5ff5-60d0-4c96-83fa-fdc56e2a0473","start time":"05:56:26:680","duration in milliseconds":1.2716,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","id":"581d545d-df3c-4c53-8c32-7aa77515680d","start time":"05:56:26:680","duration in milliseconds":1.2663,"children":[{"name":"Microsoft.Azure.Documents.ServerStoreModel Transport Request","id":"4d344025-d28b-4b2d-86e5-af4605f1a5a7","start time":"05:56:26:680","duration in milliseconds":0.47,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer31/partitions/a4cb496b-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:8081/"],"FailedReplicas":[],"AddressResolutionStatistics":[],"StoreResponseStatistics":[{"ResponseTimeUTC":"2022-06-30T17:56:26.6811152Z","ResourceType":"Document","OperationType":"Create","LocationEndpoint":"https://127.0.0.1:8081/","StoreResult":{"ActivityId":"67f4930d-0a95-446c-83e4-c85bb0301890","StatusCode":"RequestTimeout","SubStatusCode":"Unknown","LSN":-1,"PartitionKeyRangeId":null,"GlobalCommittedLSN":-1,"ItemLSN":-1,"UsingLocalLSN":false,"QuorumAckedLSN":-1,"SessionToken":null,"CurrentWriteQuorum":-1,"CurrentReplicaSetSize":-1,"NumberOfReadRegions":-1,"IsValid":false,"StorePhysicalAddress":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer31/partitions/a4cb496b-38c8-11e6-8106-8cdcd42c33be/replicas/1p/","RequestCharge":0,"RetryAfterInMs":null,"BELatencyInMs":null,"transportRequestTimeline":null,"TransportException":"A client transport error occurred: The request timed out. See the inner exception for details. (Time: 2022-06-30T17:56:26.6810164Z, activity ID: 381741d9-1721-401e-835b-29b1a0ac1bd0, error code: RequestTimeout [0x000A], base error: HRESULT 0x80131500, URI: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer31/partitions/a4cb496b-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, connection: TransportErrorMessage0d9a85f5-462c-4f10-99ef-1c891e40431d, payload sent: True)"}}]},"Point Operation Statistics":{"Id":"PointOperationStatistics","ActivityId":"67f4930d-0a95-446c-83e4-c85bb0301890","ResponseTimeUtc":"2022-06-30T17:56:26.6818395Z","StatusCode":408,"SubStatusCode":0,"RequestCharge":0,"RequestUri":"dbs/5df859b0-f279-4458-8a1b-43dea970730e/colls/2ac163bb-2fdd-45c2-ad8a-8463c497ce3a","ErrorMessage":"Microsoft.Azure.Documents.RequestTimeoutException: Message: Request timed out. More info: https://aka.ms/cosmosdb-tsg-request-timeout\r\nActivityId: 67f4930d-0a95-446c-83e4-c85bb0301890, Request URI: /apps/DocDbApp/services/DocDbServer31/partitions/a4cb496b-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, SDK: Windows/10.0.22000 cosmos-netstandard-sdk/3.28.2\r\n ---> Microsoft.Azure.Documents.TransportException: A client transport error occurred: The request timed out. See the inner exception for details. (Time: 2022-06-30T17:56:26.6810164Z, activity ID: 381741d9-1721-401e-835b-29b1a0ac1bd0, error code: RequestTimeout [0x000A], base error: HRESULT 0x80131500, URI: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer31/partitions/a4cb496b-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, connection: TransportErrorMessage0d9a85f5-462c-4f10-99ef-1c891e40431d, payload sent: True)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.ThrowTransportExceptionOnItemOperation(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request, Guid activityId, String transportExceptionSourceDescription) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\tests\\Microsoft.Azure.Cosmos.EmulatorTests\\Utils\\TransportClientHelper.cs:line 133\r\n   at Microsoft.Azure.Cosmos.EmulatorTests.Tracing.EndToEndTraceWriterBaselineTests.<>c__DisplayClass11_2.<PointOperationsExceptionsAsync>g__interceptor|3(Uri uri, ResourceOperation operation, DocumentServiceRequest request) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\tests\\Microsoft.Azure.Cosmos.EmulatorTests\\Tracing\\EndToEndTraceWriterBaselineTests.cs:line 906\r\n   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.TransportClientWrapper.InvokeStoreAsync(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\tests\\Microsoft.Azure.Cosmos.EmulatorTests\\Utils\\TransportClientHelper.cs:line 219\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.StoreResult.VerifyCanContinueOnException(DocumentClientException ex)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 122\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 33","RequestSessionToken":null,"ResponseSessionToken":null,"BELatencyInMs":null}}}]}]}]}]}]},{"name":"Get Collection Cache","id":"8df93d5f-ad07-45b9-85ab-0ac12c86b164","start time":"05:56:26:682","duration in milliseconds":0.0019}]}</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.stacktrace</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.ThrowTransportExceptionOnItemOperation(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request, Guid activityId, String transportExceptionSourceDescription) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\tests\Microsoft.Azure.Cosmos.EmulatorTests\Utils\TransportClientHelper.cs:line 133
   at Microsoft.Azure.Cosmos.EmulatorTests.Tracing.EndToEndTraceWriterBaselineTests.<>c__DisplayClass11_2.<PointOperationsExceptionsAsync>g__interceptor|3(Uri uri, ResourceOperation operation, DocumentServiceRequest request) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\tests\Microsoft.Azure.Cosmos.EmulatorTests\Tracing\EndToEndTraceWriterBaselineTests.cs:line 906
   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.TransportClientWrapper.InvokeStoreAsync(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\tests\Microsoft.Azure.Cosmos.EmulatorTests\Utils\TransportClientHelper.cs:line 219
   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)
   at Microsoft.Azure.Documents.StoreResult.VerifyCanContinueOnException(DocumentClientException ex)
   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)
   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\src\Handler\TransportHandler.cs:line 122
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\src\Handler\TransportHandler.cs:line 33</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.type</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Microsoft.Azure.Cosmos.CosmosException</ATTRIBUTE-VALUE></ACTIVITY>
</OTelActivities>
    </Output>
  </Result>
  <Result>
    <Input>
      <Description>Point Operation With Forbidden + Max Count = 4</Description>
      <Setup><![CDATA[
        int count = 0;
        List<(string, string)> activityIdAndErrorMessage = new List<(string, string)>(maxCount);
        Guid transportExceptionActivityId = Guid.NewGuid();
        string transportErrorMessage = $"TransportErrorMessage{Guid.NewGuid()}";
        Guid activityIdScope = Guid.Empty;
        void interceptor(Uri uri, Documents.ResourceOperation operation, Documents.DocumentServiceRequest request)
        {
            Assert.AreNotEqual(System.Diagnostics.Trace.CorrelationManager.ActivityId, Guid.Empty, "Activity scope should be set");

            if (request.ResourceType == Documents.ResourceType.Document)
            {
                if (activityIdScope == Guid.Empty)
                {
                    activityIdScope = System.Diagnostics.Trace.CorrelationManager.ActivityId;
                }
                else
                {
                    Assert.AreEqual(System.Diagnostics.Trace.CorrelationManager.ActivityId, activityIdScope, "Activity scope should match on retries");
                }

                if (count >= maxCount)
                {
                    TransportClientHelper.ThrowTransportExceptionOnItemOperation(
                        uri,
                        operation,
                        request,
                        transportExceptionActivityId,
                        transportErrorMessage);
                }

                count++;
                string activityId = Guid.NewGuid().ToString();
                string errorMessage = $"Error{Guid.NewGuid()}";

                activityIdAndErrorMessage.Add((activityId, errorMessage));
                TransportClientHelper.ThrowForbiddendExceptionOnItemOperation(
                    uri,
                    request,
                    activityId,
                    errorMessage);
            }
        }

        Container containerWithTransportException = TransportClientHelper.GetContainerWithIntercepter(
            database.Id,
            container.Id,
            interceptor);
        //Checking point operation diagnostics on typed operations
        ToDoActivity testItem = ToDoActivity.CreateRandomToDoActivity();

        ITrace trace = null;
        try
        {
            ItemResponse<ToDoActivity> createResponse = await containerWithTransportException.CreateItemAsync<ToDoActivity>(
              item: testItem);
            Assert.Fail("Should have thrown a request timeout exception");
        }
        catch (CosmosException ce) when (ce.StatusCode == System.Net.HttpStatusCode.RequestTimeout)
        {
            trace = ((CosmosTraceDiagnostics)ce.Diagnostics).Value;
            stringLength.Add(trace.ToString().Length);
        }

]]></Setup>
    </Input>
    <Output>
      <Text><![CDATA[.
└── CreateItemAsync(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │   (
    │       [Client Configuration]
    │       Redacted To Not Change The Baselines From Run To Run
    │   )
    ├── ItemSerialize(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    ├── Get PkValue From Stream(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   ├── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   │   └── Waiting for Initialization of client to complete(00000000-0000-0000-0000-000000000000)  Unknown-Component  12:00:00:000  0.00 milliseconds  
    │   └── Read Collection(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           (
    │               [Client Side Request Stats]
    │               Redacted To Not Change The Baselines From Run To Run
    │           )
    ├── Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │   ├── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   └── Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │       │   (
    │       │       [System Info]
    │       │       Redacted To Not Change The Baselines From Run To Run
    │       │   )
    │       └── Microsoft.Azure.Cosmos.Handlers.RetryHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           ├── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │   └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │       └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           │               (
    │           │                   [Client Side Request Stats]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │                   [Point Operation Statistics]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │               )
    │           ├── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │   └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │       └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           │               (
    │           │                   [Client Side Request Stats]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │                   [Point Operation Statistics]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │               )
    │           ├── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │   └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │       └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           │               (
    │           │                   [Client Side Request Stats]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │                   [Point Operation Statistics]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │               )
    │           ├── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │   └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           │       └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           │               (
    │           │                   [Client Side Request Stats]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │                   [Point Operation Statistics]
    │           │                   Redacted To Not Change The Baselines From Run To Run
    │           │               )
    │           └── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │               └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │                   └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │                           (
    │                               [Client Side Request Stats]
    │                               Redacted To Not Change The Baselines From Run To Run
    │                               [Point Operation Statistics]
    │                               Redacted To Not Change The Baselines From Run To Run
    │                           )
    └── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
]]></Text>
      <Json><![CDATA[{
  "Summary": {},
  "name": "CreateItemAsync",
  "id": "00000000-0000-0000-0000-000000000000",
  "start time": "12:00:00:000",
  "duration in milliseconds": 0,
  "data": {
    "Client Configuration": "Redacted To Not Change The Baselines From Run To Run"
  },
  "children": [
    {
      "name": "ItemSerialize",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0
    },
    {
      "name": "Get PkValue From Stream",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0,
      "children": [
        {
          "name": "Get Collection Cache",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "children": [
            {
              "name": "Waiting for Initialization of client to complete",
              "id": "00000000-0000-0000-0000-000000000000",
              "start time": "12:00:00:000",
              "duration in milliseconds": 0
            }
          ]
        },
        {
          "name": "Read Collection",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "data": {
            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run"
          }
        }
      ]
    },
    {
      "name": "Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0,
      "children": [
        {
          "name": "Get Collection Cache",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0
        },
        {
          "name": "Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "data": {
            "System Info": "Redacted To Not Change The Baselines From Run To Run"
          },
          "children": [
            {
              "name": "Microsoft.Azure.Cosmos.Handlers.RetryHandler",
              "id": "00000000-0000-0000-0000-000000000000",
              "start time": "12:00:00:000",
              "duration in milliseconds": 0,
              "children": [
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run",
                            "Point Operation Statistics": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run",
                            "Point Operation Statistics": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run",
                            "Point Operation Statistics": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run",
                            "Point Operation Statistics": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                },
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run",
                            "Point Operation Statistics": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "Get Collection Cache",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0
    }
  ]
}]]></Json>
      <OTelActivities><ACTIVITY><OPERATION>Cosmos.CreateItemAsync</OPERATION><ATTRIBUTE-KEY>kind</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>client</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>az.namespace</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Microsoft.DocumentDB</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.system</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>cosmosdb</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.status_code</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>RequestTimeout</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.request_charge</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>0</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.regions_contacted</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>South Central US</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.message</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Response status code does not indicate success: RequestTimeout (408); Substatus: 0; ActivityId: 5e09a338-1b7f-490f-86dd-a332f454a2ea; Reason: (Message: Request timed out. More info: https://aka.ms/cosmosdb-tsg-request-timeout
ActivityId: 5e09a338-1b7f-490f-86dd-a332f454a2ea, Request URI: /apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, SDK: Windows/10.0.22000 cosmos-netstandard-sdk/3.28.2);; Diagnostics:{"Summary":{"DirectCalls":{"(403, 3)":4,"(408, 0)":1},"RegionsContacted":1,"GatewayCalls":{"(200, 0)":3,"(304, 0)":1}},"name":"CreateItemAsync","id":"5363aa2e-87b3-4c36-8b6b-8902c9d9a601","start time":"05:56:26:683","duration in milliseconds":3060.9342,"data":{"Client Configuration":{"Client Created Time Utc":"2022-06-30T17:56:26.6831372Z","MachineId":"hashedMachineName:389da6c8-658b-e19e-372d-16c45bfaf481","NumberOfClientsCreated":9,"NumberOfActiveClients":9,"ConnectionMode":"Gateway","User Agent":"cosmos-netstandard-sdk/3.28.0|9|X64|Microsoft Windows 10.0.22000|.NET 6.0.6|N|","ConnectionConfig":{"gw":"(cps:50, urto:10, p:False, httpf: False)","rntbd":"(cto: 5, icto: -1, mrpc: 30, mcpe: 65535, erd: True, pr: ReuseUnicastPort)","other":"(ed:False, be:False)"},"ConsistencyConfig":"(consistency: NotSet, prgns:[], apprgn: )","ProcessorCount":0}},"children":[{"name":"ItemSerialize","id":"0888f9d3-1693-4c97-af54-ef78268dfb59","start time":"05:56:26:683","duration in milliseconds":0.0296},{"name":"Get PkValue From Stream","id":"327191b6-aea6-4e0c-8016-b4ac2a8d3473","start time":"05:56:26:683","duration in milliseconds":6.124,"children":[{"name":"Get Collection Cache","id":"dc769700-c552-47e9-af31-d6ce3b8f278f","start time":"05:56:26:683","duration in milliseconds":3.3533,"children":[{"name":"Waiting for Initialization of client to complete","id":"736fb229-eaf8-4754-929b-f512b1936d64","start time":"05:56:26:683","duration in milliseconds":3.352}]},{"name":"Read Collection","id":"fd98ad74-54e4-4586-8532-386afe002040","start time":"05:56:26:686","duration in milliseconds":2.6866,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[],"RegionsContacted":[],"FailedReplicas":[],"AddressResolutionStatistics":[],"StoreResponseStatistics":[],"HttpResponseStats":[{"StartTimeUTC":"2022-06-30T17:56:26.6866386Z","DurationInMs":2.5296,"RequestUri":"https://127.0.0.1:8081/dbs/5df859b0-f279-4458-8a1b-43dea970730e/colls/2ac163bb-2fdd-45c2-ad8a-8463c497ce3a","ResourceType":"Collection","HttpMethod":"GET","ActivityId":"35d869fe-45b1-4568-8c2d-8ea53b0ceeca","StatusCode":"OK"}]}}}]},{"name":"Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler","id":"d18028d8-e722-4eb6-9118-cc053bafe9c8","start time":"05:56:26:689","duration in milliseconds":3054.0545,"children":[{"name":"Get Collection Cache","id":"6b5cbb21-ef2d-46d5-a608-8f4821c7e47e","start time":"05:56:26:689","duration in milliseconds":0.0003},{"name":"Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler","id":"e915bc3f-1900-4b56-9241-2d1dfd492421","start time":"05:56:26:689","duration in milliseconds":3054.024,"data":{"System Info":{"systemHistory":[{"dateUtc":"2022-06-30T17:56:15.1066952Z","cpu":9.111,"memory":41979768.000,"threadInfo":{"isThreadStarving":"no info","availableThreads":32764,"minThreads":8,"maxThreads":32767},"numberOfOpenTcpConnection":0},{"dateUtc":"2022-06-30T17:56:25.1214334Z","cpu":16.751,"memory":41873208.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.3949,"availableThreads":32765,"minThreads":8,"maxThreads":32767},"numberOfOpenTcpConnection":3}]}},"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.RetryHandler","id":"9154daad-7bc3-452f-b40d-6c0fe1554aab","start time":"05:56:26:689","duration in milliseconds":3054.0079,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","id":"7889fe2e-4527-44e9-8b5d-5a24e5cbd276","start time":"05:56:26:689","duration in milliseconds":8.0128,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","id":"967f9c91-58a4-4721-ab0d-7e127fcccd7a","start time":"05:56:26:689","duration in milliseconds":8.0114,"children":[{"name":"Microsoft.Azure.Documents.ServerStoreModel Transport Request","id":"6df4a057-37a3-4bef-a24d-06f02fe11c46","start time":"05:56:26:689","duration in milliseconds":7.4055,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:8081/"],"FailedReplicas":[],"AddressResolutionStatistics":[{"StartTimeUTC":"2022-06-30T17:56:26.6948833Z","EndTimeUTC":"2022-06-30T17:56:26.6961426Z","TargetEndpoint":"https://127.0.0.1:8081//addresses/?$resolveFor=dbs%2fbw4JAA%3d%3d%2fcolls%2fbw4JAJF1Ktg%3d%2fdocs&$filter=protocol eq rntbd&$partitionKeyRangeIds=2"}],"StoreResponseStatistics":[{"ResponseTimeUTC":"2022-06-30T17:56:26.6965522Z","ResourceType":"Document","OperationType":"Create","LocationEndpoint":"https://127.0.0.1:8081/","StoreResult":{"ActivityId":"eccb4458-d50a-48ca-b559-18a941f979a0","StatusCode":"Forbidden","SubStatusCode":"WriteForbidden","LSN":-1,"PartitionKeyRangeId":null,"GlobalCommittedLSN":-1,"ItemLSN":-1,"UsingLocalLSN":false,"QuorumAckedLSN":-1,"SessionToken":null,"CurrentWriteQuorum":-1,"CurrentReplicaSetSize":-1,"NumberOfReadRegions":-1,"IsValid":false,"StorePhysicalAddress":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/","RequestCharge":9001,"RetryAfterInMs":null,"BELatencyInMs":null,"transportRequestTimeline":null,"TransportException":null}}],"HttpResponseStats":[{"StartTimeUTC":"2022-06-30T17:56:26.6894224Z","DurationInMs":2.2683,"RequestUri":"https://127.0.0.1:8081/dbs/bw4JAA==/colls/bw4JAJF1Ktg=/pkranges","ResourceType":"PartitionKeyRange","HttpMethod":"GET","ActivityId":"e6387f09-c707-428c-8e6e-7dc1577d21bf","StatusCode":"OK"},{"StartTimeUTC":"2022-06-30T17:56:26.6918910Z","DurationInMs":2.3875,"RequestUri":"https://127.0.0.1:8081/dbs/bw4JAA==/colls/bw4JAJF1Ktg=/pkranges","ResourceType":"PartitionKeyRange","HttpMethod":"GET","ActivityId":"feb08efe-e14b-4ba9-8e72-a7aa915208e0","StatusCode":"NotModified","ReasonPhrase":"Not Modified"},{"StartTimeUTC":"2022-06-30T17:56:26.6948959Z","DurationInMs":1.1262,"RequestUri":"https://127.0.0.1:8081//addresses/?$resolveFor=dbs%2fbw4JAA%3d%3d%2fcolls%2fbw4JAJF1Ktg%3d%2fdocs&$filter=protocol eq rntbd&$partitionKeyRangeIds=2","ResourceType":"Document","HttpMethod":"GET","ActivityId":"eccb4458-d50a-48ca-b559-18a941f979a0","StatusCode":"OK"}]},"Point Operation Statistics":{"Id":"PointOperationStatistics","ActivityId":"eccb4458-d50a-48ca-b559-18a941f979a0","ResponseTimeUtc":"2022-06-30T17:56:26.6972151Z","StatusCode":403,"SubStatusCode":3,"RequestCharge":9001,"RequestUri":"dbs/5df859b0-f279-4458-8a1b-43dea970730e/colls/2ac163bb-2fdd-45c2-ad8a-8463c497ce3a","ErrorMessage":"Microsoft.Azure.Documents.ForbiddenException: Error1f63081b-df2d-4be8-b8ed-1fc598def9b9\r\nActivityId: bbab0dfc-9e96-4e57-8139-9c8d781b3880, Request URI: /apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, SDK: Windows/10.0.22000 cosmos-netstandard-sdk/3.28.2\r\n   at Microsoft.Azure.Documents.StoreResult.ToResponse(RequestChargeTracker requestChargeTracker)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 122\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 33","RequestSessionToken":null,"ResponseSessionToken":null,"BELatencyInMs":null}}}]}]},{"name":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","id":"bfe10178-c416-479c-aa77-7761453586fa","start time":"05:56:26:698","duration in milliseconds":0.7438,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","id":"bfff6b7f-b5c1-43a1-baa0-4973329caf0e","start time":"05:56:26:698","duration in milliseconds":0.7411,"children":[{"name":"Microsoft.Azure.Documents.ServerStoreModel Transport Request","id":"5eec86c3-e3a5-48bc-82f8-de62d8827616","start time":"05:56:26:698","duration in milliseconds":0.3003,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:8081/"],"FailedReplicas":[],"AddressResolutionStatistics":[],"StoreResponseStatistics":[{"ResponseTimeUTC":"2022-06-30T17:56:26.6985423Z","ResourceType":"Document","OperationType":"Create","LocationEndpoint":"https://127.0.0.1:8081/","StoreResult":{"ActivityId":"eccb4458-d50a-48ca-b559-18a941f979a0","StatusCode":"Forbidden","SubStatusCode":"WriteForbidden","LSN":-1,"PartitionKeyRangeId":null,"GlobalCommittedLSN":-1,"ItemLSN":-1,"UsingLocalLSN":false,"QuorumAckedLSN":-1,"SessionToken":null,"CurrentWriteQuorum":-1,"CurrentReplicaSetSize":-1,"NumberOfReadRegions":-1,"IsValid":false,"StorePhysicalAddress":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/","RequestCharge":9001,"RetryAfterInMs":null,"BELatencyInMs":null,"transportRequestTimeline":null,"TransportException":null}}]},"Point Operation Statistics":{"Id":"PointOperationStatistics","ActivityId":"eccb4458-d50a-48ca-b559-18a941f979a0","ResponseTimeUtc":"2022-06-30T17:56:26.6989996Z","StatusCode":403,"SubStatusCode":3,"RequestCharge":9001,"RequestUri":"dbs/5df859b0-f279-4458-8a1b-43dea970730e/colls/2ac163bb-2fdd-45c2-ad8a-8463c497ce3a","ErrorMessage":"Microsoft.Azure.Documents.ForbiddenException: Error1ecd6f97-bc97-4282-ae31-a62634d76a08\r\nActivityId: eb15b7d8-8018-4a44-a0e9-38f749ad8e0b, Request URI: /apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, SDK: Windows/10.0.22000 cosmos-netstandard-sdk/3.28.2\r\n   at Microsoft.Azure.Documents.StoreResult.ToResponse(RequestChargeTracker requestChargeTracker)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 122\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 33","RequestSessionToken":null,"ResponseSessionToken":null,"BELatencyInMs":null}}}]}]},{"name":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","id":"bc0d0e78-a319-4319-8cc0-fbc31131eab4","start time":"05:56:27:712","duration in milliseconds":1.4706,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","id":"b669a6e4-9b06-44b8-b6a5-050440953862","start time":"05:56:27:712","duration in milliseconds":1.4658,"children":[{"name":"Microsoft.Azure.Documents.ServerStoreModel Transport Request","id":"a8e4170b-f4fb-42fe-80a1-268e39d2062d","start time":"05:56:27:712","duration in milliseconds":0.8284,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:8081/"],"FailedReplicas":[],"AddressResolutionStatistics":[],"StoreResponseStatistics":[{"ResponseTimeUTC":"2022-06-30T17:56:27.7130155Z","ResourceType":"Document","OperationType":"Create","LocationEndpoint":"https://127.0.0.1:8081/","StoreResult":{"ActivityId":"eccb4458-d50a-48ca-b559-18a941f979a0","StatusCode":"Forbidden","SubStatusCode":"WriteForbidden","LSN":-1,"PartitionKeyRangeId":null,"GlobalCommittedLSN":-1,"ItemLSN":-1,"UsingLocalLSN":false,"QuorumAckedLSN":-1,"SessionToken":null,"CurrentWriteQuorum":-1,"CurrentReplicaSetSize":-1,"NumberOfReadRegions":-1,"IsValid":false,"StorePhysicalAddress":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/","RequestCharge":9001,"RetryAfterInMs":null,"BELatencyInMs":null,"transportRequestTimeline":null,"TransportException":null}}]},"Point Operation Statistics":{"Id":"PointOperationStatistics","ActivityId":"eccb4458-d50a-48ca-b559-18a941f979a0","ResponseTimeUtc":"2022-06-30T17:56:27.7137464Z","StatusCode":403,"SubStatusCode":3,"RequestCharge":9001,"RequestUri":"dbs/5df859b0-f279-4458-8a1b-43dea970730e/colls/2ac163bb-2fdd-45c2-ad8a-8463c497ce3a","ErrorMessage":"Microsoft.Azure.Documents.ForbiddenException: Error8079dc1b-89f4-47f2-9f17-1980e984b4c1\r\nActivityId: b883a285-b4a9-46ed-b5af-a1aaf50f2386, Request URI: /apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, SDK: Windows/10.0.22000 cosmos-netstandard-sdk/3.28.2\r\n   at Microsoft.Azure.Documents.StoreResult.ToResponse(RequestChargeTracker requestChargeTracker)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 122\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 33","RequestSessionToken":null,"ResponseSessionToken":null,"BELatencyInMs":null}}}]}]},{"name":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","id":"cfac3f7b-db8b-4214-bf96-19ffa30d42c1","start time":"05:56:28:726","duration in milliseconds":1.2126,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","id":"0d0f601f-bb05-4b98-adfc-2dea3ba351f9","start time":"05:56:28:726","duration in milliseconds":1.2078,"children":[{"name":"Microsoft.Azure.Documents.ServerStoreModel Transport Request","id":"aa2e5566-3205-4ff9-897b-14aba8fa00ff","start time":"05:56:28:726","duration in milliseconds":0.5467,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:8081/"],"FailedReplicas":[],"AddressResolutionStatistics":[],"StoreResponseStatistics":[{"ResponseTimeUTC":"2022-06-30T17:56:28.7269088Z","ResourceType":"Document","OperationType":"Create","LocationEndpoint":"https://127.0.0.1:8081/","StoreResult":{"ActivityId":"eccb4458-d50a-48ca-b559-18a941f979a0","StatusCode":"Forbidden","SubStatusCode":"WriteForbidden","LSN":-1,"PartitionKeyRangeId":null,"GlobalCommittedLSN":-1,"ItemLSN":-1,"UsingLocalLSN":false,"QuorumAckedLSN":-1,"SessionToken":null,"CurrentWriteQuorum":-1,"CurrentReplicaSetSize":-1,"NumberOfReadRegions":-1,"IsValid":false,"StorePhysicalAddress":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/","RequestCharge":9001,"RetryAfterInMs":null,"BELatencyInMs":null,"transportRequestTimeline":null,"TransportException":null}}]},"Point Operation Statistics":{"Id":"PointOperationStatistics","ActivityId":"eccb4458-d50a-48ca-b559-18a941f979a0","ResponseTimeUtc":"2022-06-30T17:56:28.7274869Z","StatusCode":403,"SubStatusCode":3,"RequestCharge":9001,"RequestUri":"dbs/5df859b0-f279-4458-8a1b-43dea970730e/colls/2ac163bb-2fdd-45c2-ad8a-8463c497ce3a","ErrorMessage":"Microsoft.Azure.Documents.ForbiddenException: Error32183056-40bc-4663-907d-b57255e00057\r\nActivityId: 9e9b14df-0fc3-4a7e-a076-fdb550425ed5, Request URI: /apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, SDK: Windows/10.0.22000 cosmos-netstandard-sdk/3.28.2\r\n   at Microsoft.Azure.Documents.StoreResult.ToResponse(RequestChargeTracker requestChargeTracker)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 122\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 33","RequestSessionToken":null,"ResponseSessionToken":null,"BELatencyInMs":null}}}]}]},{"name":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","id":"04a16bc0-32ce-4059-b96e-fcfdb8933939","start time":"05:56:29:741","duration in milliseconds":2.2292,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","id":"62b34d35-8c31-4d51-9b7e-7668ad731705","start time":"05:56:29:741","duration in milliseconds":2.2157,"children":[{"name":"Microsoft.Azure.Documents.ServerStoreModel Transport Request","id":"63c455d8-2b9c-4879-88e3-5a1b3330edad","start time":"05:56:29:741","duration in milliseconds":0.7394,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:8081/"],"FailedReplicas":[],"AddressResolutionStatistics":[],"StoreResponseStatistics":[{"ResponseTimeUTC":"2022-06-30T17:56:29.7415777Z","ResourceType":"Document","OperationType":"Create","LocationEndpoint":"https://127.0.0.1:8081/","StoreResult":{"ActivityId":"5e09a338-1b7f-490f-86dd-a332f454a2ea","StatusCode":"RequestTimeout","SubStatusCode":"Unknown","LSN":-1,"PartitionKeyRangeId":null,"GlobalCommittedLSN":-1,"ItemLSN":-1,"UsingLocalLSN":false,"QuorumAckedLSN":-1,"SessionToken":null,"CurrentWriteQuorum":-1,"CurrentReplicaSetSize":-1,"NumberOfReadRegions":-1,"IsValid":false,"StorePhysicalAddress":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/","RequestCharge":0,"RetryAfterInMs":null,"BELatencyInMs":null,"transportRequestTimeline":null,"TransportException":"A client transport error occurred: The request timed out. See the inner exception for details. (Time: 2022-06-30T17:56:29.7413831Z, activity ID: da481f81-2915-4075-aa60-4dbbe4909688, error code: RequestTimeout [0x000A], base error: HRESULT 0x80131500, URI: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, connection: TransportErrorMessagec7b54ebc-1802-4a7e-8092-d5457ff9173c, payload sent: True)"}}]},"Point Operation Statistics":{"Id":"PointOperationStatistics","ActivityId":"5e09a338-1b7f-490f-86dd-a332f454a2ea","ResponseTimeUtc":"2022-06-30T17:56:29.7429757Z","StatusCode":408,"SubStatusCode":0,"RequestCharge":0,"RequestUri":"dbs/5df859b0-f279-4458-8a1b-43dea970730e/colls/2ac163bb-2fdd-45c2-ad8a-8463c497ce3a","ErrorMessage":"Microsoft.Azure.Documents.RequestTimeoutException: Message: Request timed out. More info: https://aka.ms/cosmosdb-tsg-request-timeout\r\nActivityId: 5e09a338-1b7f-490f-86dd-a332f454a2ea, Request URI: /apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, SDK: Windows/10.0.22000 cosmos-netstandard-sdk/3.28.2\r\n ---> Microsoft.Azure.Documents.TransportException: A client transport error occurred: The request timed out. See the inner exception for details. (Time: 2022-06-30T17:56:29.7413831Z, activity ID: da481f81-2915-4075-aa60-4dbbe4909688, error code: RequestTimeout [0x000A], base error: HRESULT 0x80131500, URI: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer61/partitions/a4cb4989-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, connection: TransportErrorMessagec7b54ebc-1802-4a7e-8092-d5457ff9173c, payload sent: True)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.ThrowTransportExceptionOnItemOperation(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request, Guid activityId, String transportExceptionSourceDescription) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\tests\\Microsoft.Azure.Cosmos.EmulatorTests\\Utils\\TransportClientHelper.cs:line 133\r\n   at Microsoft.Azure.Cosmos.EmulatorTests.Tracing.EndToEndTraceWriterBaselineTests.<>c__DisplayClass11_2.<PointOperationsExceptionsAsync>g__interceptor|3(Uri uri, ResourceOperation operation, DocumentServiceRequest request) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\tests\\Microsoft.Azure.Cosmos.EmulatorTests\\Tracing\\EndToEndTraceWriterBaselineTests.cs:line 906\r\n   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.TransportClientWrapper.InvokeStoreAsync(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\tests\\Microsoft.Azure.Cosmos.EmulatorTests\\Utils\\TransportClientHelper.cs:line 219\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.StoreResult.VerifyCanContinueOnException(DocumentClientException ex)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 122\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 33","RequestSessionToken":null,"ResponseSessionToken":null,"BELatencyInMs":null}}}]}]}]}]}]},{"name":"Get Collection Cache","id":"4606db27-cc03-4a96-a4b5-a985c3e930c7","start time":"05:56:29:743","duration in milliseconds":0.0037}]}</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.stacktrace</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.ThrowTransportExceptionOnItemOperation(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request, Guid activityId, String transportExceptionSourceDescription) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\tests\Microsoft.Azure.Cosmos.EmulatorTests\Utils\TransportClientHelper.cs:line 133
   at Microsoft.Azure.Cosmos.EmulatorTests.Tracing.EndToEndTraceWriterBaselineTests.<>c__DisplayClass11_2.<PointOperationsExceptionsAsync>g__interceptor|3(Uri uri, ResourceOperation operation, DocumentServiceRequest request) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\tests\Microsoft.Azure.Cosmos.EmulatorTests\Tracing\EndToEndTraceWriterBaselineTests.cs:line 906
   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.TransportClientWrapper.InvokeStoreAsync(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\tests\Microsoft.Azure.Cosmos.EmulatorTests\Utils\TransportClientHelper.cs:line 219
   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)
   at Microsoft.Azure.Documents.StoreResult.VerifyCanContinueOnException(DocumentClientException ex)
   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)
   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\src\Handler\TransportHandler.cs:line 122
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\src\Handler\TransportHandler.cs:line 33</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.type</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Microsoft.Azure.Cosmos.CosmosException</ATTRIBUTE-VALUE></ACTIVITY>
</OTelActivities>
    </Output>
  </Result>
  <Result>
    <Input>
      <Description>Point Operation with Service Unavailable</Description>
      <Setup><![CDATA[
    ItemRequestOptions requestOptions = new ItemRequestOptions();

    Guid exceptionActivityId = Guid.NewGuid();
    string ServiceUnavailableExceptionDescription = "ServiceUnavailableExceptionDescription" + Guid.NewGuid();
    Container containerWithTransportException = TransportClientHelper.GetContainerWithItemServiceUnavailableException(
        database.Id,
        container.Id,
        exceptionActivityId,
        ServiceUnavailableExceptionDescription);

    //Checking point operation diagnostics on typed operations
    ToDoActivity testItem = ToDoActivity.CreateRandomToDoActivity();

    ITrace trace = null;
    try
    {
        ItemResponse<ToDoActivity> createResponse = await containerWithTransportException.CreateItemAsync<ToDoActivity>(
          item: testItem,
          requestOptions: requestOptions);
        Assert.Fail("Should have thrown a Service Unavailable Exception");
    }
    catch (CosmosException ce) when (ce.StatusCode == System.Net.HttpStatusCode.ServiceUnavailable)
    {
        trace = ((CosmosTraceDiagnostics)ce.Diagnostics).Value;                    
    }
]]></Setup>
    </Input>
    <Output>
      <Text><![CDATA[.
└── CreateItemAsync(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │   (
    │       [Client Configuration]
    │       Redacted To Not Change The Baselines From Run To Run
    │   )
    ├── ItemSerialize(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    ├── Get PkValue From Stream(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   ├── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   │   └── Waiting for Initialization of client to complete(00000000-0000-0000-0000-000000000000)  Unknown-Component  12:00:00:000  0.00 milliseconds  
    │   └── Read Collection(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │           (
    │               [Client Side Request Stats]
    │               Redacted To Not Change The Baselines From Run To Run
    │           )
    ├── Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │   ├── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
    │   └── Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │       │   (
    │       │       [System Info]
    │       │       Redacted To Not Change The Baselines From Run To Run
    │       │   )
    │       └── Microsoft.Azure.Cosmos.Handlers.RetryHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │           └── Microsoft.Azure.Cosmos.Handlers.RouterHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │               └── Microsoft.Azure.Cosmos.Handlers.TransportHandler(00000000-0000-0000-0000-000000000000)  RequestHandler-Component  12:00:00:000  0.00 milliseconds  
    │                   └── Microsoft.Azure.Documents.ServerStoreModel Transport Request(00000000-0000-0000-0000-000000000000)  Transport-Component  12:00:00:000  0.00 milliseconds  
    │                           (
    │                               [Client Side Request Stats]
    │                               Redacted To Not Change The Baselines From Run To Run
    │                               [Point Operation Statistics]
    │                               Redacted To Not Change The Baselines From Run To Run
    │                           )
    └── Get Collection Cache(00000000-0000-0000-0000-000000000000)  Routing-Component  12:00:00:000  0.00 milliseconds  
]]></Text>
      <Json><![CDATA[{
  "Summary": {},
  "name": "CreateItemAsync",
  "id": "00000000-0000-0000-0000-000000000000",
  "start time": "12:00:00:000",
  "duration in milliseconds": 0,
  "data": {
    "Client Configuration": "Redacted To Not Change The Baselines From Run To Run"
  },
  "children": [
    {
      "name": "ItemSerialize",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0
    },
    {
      "name": "Get PkValue From Stream",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0,
      "children": [
        {
          "name": "Get Collection Cache",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "children": [
            {
              "name": "Waiting for Initialization of client to complete",
              "id": "00000000-0000-0000-0000-000000000000",
              "start time": "12:00:00:000",
              "duration in milliseconds": 0
            }
          ]
        },
        {
          "name": "Read Collection",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "data": {
            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run"
          }
        }
      ]
    },
    {
      "name": "Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0,
      "children": [
        {
          "name": "Get Collection Cache",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0
        },
        {
          "name": "Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler",
          "id": "00000000-0000-0000-0000-000000000000",
          "start time": "12:00:00:000",
          "duration in milliseconds": 0,
          "data": {
            "System Info": "Redacted To Not Change The Baselines From Run To Run"
          },
          "children": [
            {
              "name": "Microsoft.Azure.Cosmos.Handlers.RetryHandler",
              "id": "00000000-0000-0000-0000-000000000000",
              "start time": "12:00:00:000",
              "duration in milliseconds": 0,
              "children": [
                {
                  "name": "Microsoft.Azure.Cosmos.Handlers.RouterHandler",
                  "id": "00000000-0000-0000-0000-000000000000",
                  "start time": "12:00:00:000",
                  "duration in milliseconds": 0,
                  "children": [
                    {
                      "name": "Microsoft.Azure.Cosmos.Handlers.TransportHandler",
                      "id": "00000000-0000-0000-0000-000000000000",
                      "start time": "12:00:00:000",
                      "duration in milliseconds": 0,
                      "children": [
                        {
                          "name": "Microsoft.Azure.Documents.ServerStoreModel Transport Request",
                          "id": "00000000-0000-0000-0000-000000000000",
                          "start time": "12:00:00:000",
                          "duration in milliseconds": 0,
                          "data": {
                            "Client Side Request Stats": "Redacted To Not Change The Baselines From Run To Run",
                            "Point Operation Statistics": "Redacted To Not Change The Baselines From Run To Run"
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "Get Collection Cache",
      "id": "00000000-0000-0000-0000-000000000000",
      "start time": "12:00:00:000",
      "duration in milliseconds": 0
    }
  ]
}]]></Json>
      <OTelActivities><ACTIVITY><OPERATION>Cosmos.CreateItemAsync</OPERATION><ATTRIBUTE-KEY>kind</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>client</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>az.namespace</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Microsoft.DocumentDB</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.system</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>cosmosdb</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.status_code</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>ServiceUnavailable</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.request_charge</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>0</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>db.cosmosdb.regions_contacted</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>South Central US</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.message</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Response status code does not indicate success: ServiceUnavailable (503); Substatus: 20006; ActivityId: 43a8eadb-9f14-4305-a060-bc05413b30a9; Reason: (Channel is closed
ActivityId: 43a8eadb-9f14-4305-a060-bc05413b30a9, Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, Windows/10.0.22000 cosmos-netstandard-sdk/3.28.2);; Diagnostics:{"Summary":{"DirectCalls":{"(503, 20006)":1},"RegionsContacted":1,"GatewayCalls":{"(200, 0)":3,"(304, 0)":1}},"name":"CreateItemAsync","id":"b541bb3b-8ceb-4c74-a3c0-b6b644ff0797","start time":"05:56:29:745","duration in milliseconds":18.2716,"data":{"Client Configuration":{"Client Created Time Utc":"2022-06-30T17:56:29.7453500Z","MachineId":"hashedMachineName:389da6c8-658b-e19e-372d-16c45bfaf481","NumberOfClientsCreated":10,"NumberOfActiveClients":10,"ConnectionMode":"Gateway","User Agent":"cosmos-netstandard-sdk/3.28.0|10|X64|Microsoft Windows 10.0.22000|.NET 6.0.6|N|","ConnectionConfig":{"gw":"(cps:50, urto:10, p:False, httpf: False)","rntbd":"(cto: 5, icto: -1, mrpc: 30, mcpe: 65535, erd: True, pr: ReuseUnicastPort)","other":"(ed:False, be:False)"},"ConsistencyConfig":"(consistency: NotSet, prgns:[], apprgn: )","ProcessorCount":0}},"children":[{"name":"ItemSerialize","id":"7430c075-9b9a-4344-9ff3-df24a0d7ad76","start time":"05:56:29:745","duration in milliseconds":0.0417},{"name":"Get PkValue From Stream","id":"2287b778-fbe8-4351-bd59-4b9ad8661990","start time":"05:56:29:745","duration in milliseconds":7.0034,"children":[{"name":"Get Collection Cache","id":"968333f8-d0d8-4fd3-b5aa-1f875a435f06","start time":"05:56:29:745","duration in milliseconds":4.0954,"children":[{"name":"Waiting for Initialization of client to complete","id":"be7fb675-8342-4cfa-bd8a-8b6246b6c8c3","start time":"05:56:29:745","duration in milliseconds":4.0928}]},{"name":"Read Collection","id":"de328239-46e8-4e7c-811a-98d9f2c452c0","start time":"05:56:29:749","duration in milliseconds":2.7669,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[],"RegionsContacted":[],"FailedReplicas":[],"AddressResolutionStatistics":[],"StoreResponseStatistics":[],"HttpResponseStats":[{"StartTimeUTC":"2022-06-30T17:56:29.7496387Z","DurationInMs":2.5571,"RequestUri":"https://127.0.0.1:8081/dbs/5df859b0-f279-4458-8a1b-43dea970730e/colls/2ac163bb-2fdd-45c2-ad8a-8463c497ce3a","ResourceType":"Collection","HttpMethod":"GET","ActivityId":"1f97b699-42ea-4dfb-85aa-26b16678ac5f","StatusCode":"OK"}]}}}]},{"name":"Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler","id":"3aeaf84e-545b-46c1-9274-98e0f64d9274","start time":"05:56:29:752","duration in milliseconds":10.7553,"children":[{"name":"Get Collection Cache","id":"61272329-a893-4460-a2e7-0c8a6df6fbca","start time":"05:56:29:752","duration in milliseconds":0.0004},{"name":"Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler","id":"d831d6b0-c7f6-4ba1-854a-3f93b3ff2146","start time":"05:56:29:752","duration in milliseconds":10.7185,"data":{"System Info":{"systemHistory":[{"dateUtc":"2022-06-30T17:56:15.1066952Z","cpu":9.111,"memory":41979768.000,"threadInfo":{"isThreadStarving":"no info","availableThreads":32764,"minThreads":8,"maxThreads":32767},"numberOfOpenTcpConnection":0},{"dateUtc":"2022-06-30T17:56:25.1214334Z","cpu":16.751,"memory":41873208.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.3949,"availableThreads":32765,"minThreads":8,"maxThreads":32767},"numberOfOpenTcpConnection":3}]}},"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.RetryHandler","id":"92cf4d3d-3e54-463d-abf6-b0f98bd88af7","start time":"05:56:29:752","duration in milliseconds":10.7117,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","id":"721ec0eb-388e-4851-a9c5-70ee3dd56685","start time":"05:56:29:752","duration in milliseconds":10.6873,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","id":"332828c0-251e-4dae-9b93-35e7949c7bc2","start time":"05:56:29:752","duration in milliseconds":10.6857,"children":[{"name":"Microsoft.Azure.Documents.ServerStoreModel Transport Request","id":"703761c5-effb-462a-b93f-1fff46bd1f3f","start time":"05:56:29:752","duration in milliseconds":9.4331,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer31/partitions/a4cb496b-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:8081/"],"FailedReplicas":[],"AddressResolutionStatistics":[{"StartTimeUTC":"2022-06-30T17:56:29.7582337Z","EndTimeUTC":"2022-06-30T17:56:29.7598824Z","TargetEndpoint":"https://127.0.0.1:8081//addresses/?$resolveFor=dbs%2fbw4JAA%3d%3d%2fcolls%2fbw4JAJF1Ktg%3d%2fdocs&$filter=protocol eq rntbd&$partitionKeyRangeIds=1"}],"StoreResponseStatistics":[{"ResponseTimeUTC":"2022-06-30T17:56:29.7614797Z","ResourceType":"Document","OperationType":"Create","LocationEndpoint":"https://127.0.0.1:8081/","StoreResult":{"ActivityId":"43a8eadb-9f14-4305-a060-bc05413b30a9","StatusCode":"ServiceUnavailable","SubStatusCode":"Channel_Closed","LSN":-1,"PartitionKeyRangeId":null,"GlobalCommittedLSN":-1,"ItemLSN":-1,"UsingLocalLSN":false,"QuorumAckedLSN":-1,"SessionToken":null,"CurrentWriteQuorum":-1,"CurrentReplicaSetSize":-1,"NumberOfReadRegions":-1,"IsValid":false,"StorePhysicalAddress":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer31/partitions/a4cb496b-38c8-11e6-8106-8cdcd42c33be/replicas/1p/","RequestCharge":0,"RetryAfterInMs":null,"BELatencyInMs":null,"transportRequestTimeline":null,"TransportException":"A client transport error occurred: The request timed out. See the inner exception for details. (Time: 2022-06-30T17:56:29.7607532Z, activity ID: 112761d3-f33e-4469-81d5-947df02ff71e, error code: RequestTimeout [0x000A], base error: HRESULT 0x80131500, URI: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer31/partitions/a4cb496b-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, connection: ServiceUnavailableExceptionDescription892932b2-2260-4fac-9f01-7adbe250bb25, payload sent: True)"}}],"HttpResponseStats":[{"StartTimeUTC":"2022-06-30T17:56:29.7525957Z","DurationInMs":2.2712,"RequestUri":"https://127.0.0.1:8081/dbs/bw4JAA==/colls/bw4JAJF1Ktg=/pkranges","ResourceType":"PartitionKeyRange","HttpMethod":"GET","ActivityId":"0d86a5bf-6d52-4c1c-ba6f-f2d00f550f7f","StatusCode":"OK"},{"StartTimeUTC":"2022-06-30T17:56:29.7551810Z","DurationInMs":2.7353,"RequestUri":"https://127.0.0.1:8081/dbs/bw4JAA==/colls/bw4JAJF1Ktg=/pkranges","ResourceType":"PartitionKeyRange","HttpMethod":"GET","ActivityId":"ccb9a0ca-5df6-40fa-a4da-416dc565e083","StatusCode":"NotModified","ReasonPhrase":"Not Modified"},{"StartTimeUTC":"2022-06-30T17:56:29.7582456Z","DurationInMs":1.3894,"RequestUri":"https://127.0.0.1:8081//addresses/?$resolveFor=dbs%2fbw4JAA%3d%3d%2fcolls%2fbw4JAJF1Ktg%3d%2fdocs&$filter=protocol eq rntbd&$partitionKeyRangeIds=1","ResourceType":"Document","HttpMethod":"GET","ActivityId":"e74255e2-c27f-45cf-9e0b-40c6813bfc99","StatusCode":"OK"}]},"Point Operation Statistics":{"Id":"PointOperationStatistics","ActivityId":"43a8eadb-9f14-4305-a060-bc05413b30a9","ResponseTimeUtc":"2022-06-30T17:56:29.7628189Z","StatusCode":503,"SubStatusCode":20006,"RequestCharge":0,"RequestUri":"dbs/5df859b0-f279-4458-8a1b-43dea970730e/colls/2ac163bb-2fdd-45c2-ad8a-8463c497ce3a","ErrorMessage":"Microsoft.Azure.Documents.ServiceUnavailableException: Channel is closed\r\nActivityId: 43a8eadb-9f14-4305-a060-bc05413b30a9, Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, Windows/10.0.22000 cosmos-netstandard-sdk/3.28.2\r\n ---> Microsoft.Azure.Documents.TransportException: A client transport error occurred: The request timed out. See the inner exception for details. (Time: 2022-06-30T17:56:29.7607532Z, activity ID: 112761d3-f33e-4469-81d5-947df02ff71e, error code: RequestTimeout [0x000A], base error: HRESULT 0x80131500, URI: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer31/partitions/a4cb496b-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, connection: ServiceUnavailableExceptionDescription892932b2-2260-4fac-9f01-7adbe250bb25, payload sent: True)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.ThrowServiceUnavailableExceptionOnItemOperation(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request, Guid activityId, String transportExceptionSourceDescription) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\tests\\Microsoft.Azure.Cosmos.EmulatorTests\\Utils\\TransportClientHelper.cs:line 156\r\n   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.<>c__DisplayClass1_0.<GetContainerWithItemServiceUnavailableException>b__0(Uri uri, ResourceOperation resourceOperation, DocumentServiceRequest request) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\tests\\Microsoft.Azure.Cosmos.EmulatorTests\\Utils\\TransportClientHelper.cs:line 49\r\n   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.TransportClientWrapper.InvokeStoreAsync(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\tests\\Microsoft.Azure.Cosmos.EmulatorTests\\Utils\\TransportClientHelper.cs:line 219\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.StoreResult.VerifyCanContinueOnException(DocumentClientException ex)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 122\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken) in C:\\Azure\\azure-cosmos-dotnet-v3\\Microsoft.Azure.Cosmos\\src\\Handler\\TransportHandler.cs:line 33","RequestSessionToken":null,"ResponseSessionToken":null,"BELatencyInMs":null}}}]}]}]}]}]},{"name":"Get Collection Cache","id":"6e688ef8-df6b-42c9-83be-11ee257badc7","start time":"05:56:29:763","duration in milliseconds":0.0058}]}</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.stacktrace</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.ThrowServiceUnavailableExceptionOnItemOperation(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request, Guid activityId, String transportExceptionSourceDescription) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\tests\Microsoft.Azure.Cosmos.EmulatorTests\Utils\TransportClientHelper.cs:line 156
   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.<>c__DisplayClass1_0.<GetContainerWithItemServiceUnavailableException>b__0(Uri uri, ResourceOperation resourceOperation, DocumentServiceRequest request) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\tests\Microsoft.Azure.Cosmos.EmulatorTests\Utils\TransportClientHelper.cs:line 49
   at Microsoft.Azure.Cosmos.SDK.EmulatorTests.TransportClientHelper.TransportClientWrapper.InvokeStoreAsync(Uri physicalAddress, ResourceOperation resourceOperation, DocumentServiceRequest request) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\tests\Microsoft.Azure.Cosmos.EmulatorTests\Utils\TransportClientHelper.cs:line 219
   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)
   at Microsoft.Azure.Documents.StoreResult.VerifyCanContinueOnException(DocumentClientException ex)
   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)
   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\src\Handler\TransportHandler.cs:line 122
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken) in C:\Azure\azure-cosmos-dotnet-v3\Microsoft.Azure.Cosmos\src\Handler\TransportHandler.cs:line 33</ATTRIBUTE-VALUE><ATTRIBUTE-KEY>exception.type</ATTRIBUTE-KEY><ATTRIBUTE-VALUE>Microsoft.Azure.Cosmos.CosmosException</ATTRIBUTE-VALUE></ACTIVITY>
</OTelActivities>
    </Output>
  </Result>
</Results>